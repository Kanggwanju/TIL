# ğŸ—“ï¸ 2025ë…„ 8ì›” 28ì¼ TIL


ì‹¤ìŠµë¬¸ì œ 2. TodoList ìˆ˜ì •, ì¶”ê°€ì‚¬í•­ 
ê¸°ì¡´
```jsx
isClicked === false ? '' :
<form className={insertForm}>
</form>
```

ìˆ˜ì •
```jsx
isClicked &&
<div className={wrapper}>
</div>
```

ê¸°ì¡´
className={`${insertBtn} ${isClicked === false ? '' : openStyle}`}

ìˆ˜ì •
className={`${insertBtn} ${isClicked ? openStyle : ''}`}


í•  ì¼ ì²´í¬ í•¨ìˆ˜ findë¡œ í•˜ëŠ” ë°©ë²• ìƒˆë¡œ ë°°ì›€
```jsx
const onCheck = (targetId) => {
  const copyTodos = [...todos];
  const targetTodo = copyTodos.find(todo => todo.id === id);

  targetTodo.done = !targetTodo.done;

  setTodos(copyTodos);
}
```

---

ë¦¬ì•¡íŠ¸ í”„ë˜ê·¸ë¨¼íŠ¸
<>
</>

---


ì—ëŸ¬ê°€ ë–´ì„ë•Œ ëª¨ë‹¬ ë„ìš°ê¸°
-> ì—ëŸ¬ ë©”ì‹œì§€ ìì²´ë¥¼ ìƒíƒœ ë³€ìˆ˜ë¡œ ê´€ë¦¬í•˜ë©´
íŠ¸ë£¨ë”” í„ì‹œë¥¼ ì´ìš©í•´ì„œ ëª¨ë‹¬ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŒ
```jsx
// ì—ëŸ¬ê°€ ë‚¬ì„ ë•Œ ì—ëŸ¬ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ìƒíƒœë³€ìˆ˜
// error -> { title: ì—ëŸ¬ì œëª©, message: ì—ëŸ¬ì›ì¸ }
const [error, setError] = useState(null);
```

```jsx
{ error && <ErrorModal title={error.title} message={error.message}/>}
```

ì…ë ¥ê°’ ê²€ì¦ì—ì„œ setError -> errorì´ íŠ¸ë£¨ë””ê°€ ë¨ -> ëª¨ë‹¬ ë„ì›Œì§

ì—ëŸ¬ ëª¨ë‹¬ ë‹«ê¸°
- ErrorModal ì»´í¬ë„ŒíŠ¸ì— ì—ëŸ¬ë©”ì„¸ì§€ë¥¼ nullë¡œ ë§Œë“œëŠ” í•¨ìˆ˜ë¥¼ ë‚´ë ¤ì¤Œ
- ë‹«ê¸° ë²„íŠ¼ì´ë‚˜ backdropì„ í´ë¦­í•˜ë©´ ë‚´ë ¤ë°›ì€ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê²Œ í•¨.

```jsx
<ErrorModal title={error.title} message={error.message} onClose={() => setError(null)}/>
```

---


ë¦¬ì•¡íŠ¸ í¬íƒˆ portal


---

React useRef
- useRefë¡œ íƒœê·¸ ê¸°ì–µì‹œí‚¤ê¸°
```jsx
const usernameRef = useRef(null);
```

usernameRefì•ˆì— input íƒœê·¸ê°€ ì €ì¥ë¨
```jsx
<input
  id='username'
  type='text'
  ref={usernameRef}
/>
```

ì…ë ¥í•˜ë©´ ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒíƒœê´€ë¦¬ í•˜ë˜ ê²ƒì€ ì•ˆ í•´ë„ ë¨

input íƒœê·¸ êº¼ë‚´ê¸°, ê°’ ì‚¬ìš©ë²•
```jsx
const $usernameInput = usernameRef.current;
const $ageInput = ageRef.current;

// ê°ì²´ë¡œ ë§¤í•‘
const userValue = {
  username: $usernameInput.value,
  age: $ageInput.value,
};

// ... ì…ë ¥ê°’ ê²€ì¦, ë¶€ëª¨ê°€ ì¤€ í•¨ìˆ˜ ì‹¤í–‰

// ì…ë ¥ê°’ ì´ˆê¸°í™”
$usernameInput.value = '';
$ageInput.value = '';

// ì´ë¦„ ì…ë ¥ë€ì— ì»¤ì„œ í¬ì»¤ìŠ¤
$usernameInput.focus();
```

---

Side Effect
- í•¨ìˆ˜ ì™¸ë¶€ì˜ ìƒíƒœë¥¼ ë³€ê²½
- í•¨ìˆ˜ ì‹¤í–‰ ë™ì‘ì´ í•¨ìˆ˜ ì™¸ë¶€ì˜ ìƒíƒœì— ì˜ì¡´í•˜ëŠ” ê²½ìš°

React ì»´í¬ë„ŒíŠ¸ì—ì„œì˜ Side Effect
- ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜, êµ¬ë…í•˜ê±°ë‚˜, ìˆ˜ë™ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ë“±ì˜ I/O ì‘ì—…
- DOMì„ ì§ì ‘ì ìœ¼ë¡œ ì¡°ì‘í•˜ëŠ” ì‘ì—…
- setTimeout, setInterval ê°™ì€ íƒ€ì´ë¨¸ë¥¼ ì„¤ì •í•˜ëŠ” ì‘ì—…

ë¡œê·¸ì¸ Side Effect íë¦„
- ë¦¬ì•¡íŠ¸ëŠ” ìƒˆë¡œê³ ì¹¨í•˜ë©´ ëª¨ë“  ìƒíƒœ ë³€ìˆ˜ë“¤ì´ ê¸°ë³¸ê°’ìœ¼ë¡œ ëŒì•„ê°
- ë¡œê·¸ì¸ì„ ì„±ê³µí•˜ë©´ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— í† í°ì„ ì €ì¥í•˜ë„ë¡ êµ¬í˜„
- ìƒˆë¡œê³ ì¹¨ì„ í–ˆì„ ë•Œ í† í°ì„ ì½ì–´ì„œ ë¡œê·¸ì¸ ìƒíƒœë³€ìˆ˜ë¥¼ ë³€ê²½ì‹œí‚´
- ìƒíƒœë³€ìˆ˜ë¥¼ ë³€ê²½í–ˆìœ¼ë¯€ë¡œ ë¦¬ë Œë”ë§ì´ ì¼ì–´ë‚¨.
- ë‹¤ì‹œ ìƒíƒœë³€ìˆ˜ ë³€ê²½ -> ë¦¬ë Œë”ë§ ... ë¬´í•œ ë£¨í”„ ë°œìƒ

í† í° ê²€ì‚¬, ìƒíƒœë³€ìˆ˜ ë³€ê²½ ì½”ë“œ
```jsx
// í† í° ê²€ì‚¬
console.log('í† í° ê²€ì‚¬!');
const token = localStorage.getItem('token');
if (token === '1') {
  setIsLoggedIn(true); // ë¦¬ ë Œë”ë§ ë°œìƒ
}
```

---

## useEffect Hook
- í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” `useEffect`ë¥¼ ì‚¬ìš©
- side effect (ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ì™¸ë¶€ ë¹„ë™ê¸°ì‘ì—…) ì²˜ë¦¬ë¥¼ ìœ„í•œ í›… (ë¦¬ì•¡íŠ¸ í•¨ìˆ˜)
- ì´ˆê¸° ë Œë”ë§ ì´í›„ì— useEffectê°€ ìˆ˜í–‰ë¨

### useEffect í•¨ìˆ˜ì˜ ê¸°ë³¸ í˜•íƒœ
```jsx
useEffect(() => {
  // side effectë¥¼ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œë¥¼ ì—¬ê¸°ì— ì‘ì„±í•©ë‹ˆë‹¤.

  return () => {
    // cleanup ì½”ë“œë¥¼ ì—¬ê¸°ì— ì‘ì„±í•©ë‹ˆë‹¤.
    // ì´ ì½”ë“œëŠ” ì»´í¬ë„ŒíŠ¸ê°€ unmountë˜ê±°ë‚˜, ë‹¤ìŒ effectê°€ ì‹¤í–‰ë˜ê¸° ì „ì— ìˆ˜í–‰ë©ë‹ˆë‹¤.
  };
}, [dependency1, dependency2]); // ì˜ì¡´ì„± ë°°ì—´
```

## ë¡œê·¸ì¸ Side Effect í•´ê²°
```jsx
useEffect(() => {
  console.log('useEffectê°€ ì‹¤í–‰ë¨!');
  const token = localStorage.getItem('token');
  if (token === '1') {
    setIsLoggedIn(true); // ë¦¬ ë Œë”ë§ ë°œìƒ
  }
}, []);
```

---

## useEffect ì˜ì¡´ì„± ë°°ì—´

useEffectì˜ ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„° ë°°ì—´ì€ ì˜ì¡´ì„± ë°°ì—´ì´ë¼ê³  ë¶€ë¥´ë©°
1. ìƒëµí•  ê²½ìš° useEffectëŠ” ë Œë”ë§ì‹œë§ˆë‹¤ ë°˜ë³µ ì‹¤í–‰ë¨ (ì“°ë ˆê¸°)
2. ë¹ˆ ë°°ì—´ì¼ ê²½ìš° ìµœì´ˆ í•œë²ˆë§Œ ì‹¤í–‰ë¨ (í† í°ê²€ì‚¬ ìµœì´ˆ1ë²ˆ, ì„œë²„ë°ì´í„° í˜ì¹­ ìµœì´ˆ1ë²ˆ)
3. ë°°ì—´ì•ˆì— ë³€ìˆ˜ë¥¼ ë„£ì„ ê²½ìš°, í•´ë‹¹ ë³€ìˆ˜ê°’ì´ ë³€ê²½ë  ë–„ë§ˆë‹¤ ì¬ì‹¤í–‰

### ë¡œê·¸ì¸ ë²„íŠ¼ í™œì„±í™” ì—¬ë¶€ ê²€ì¦ì„ ìœ„í•œ useEffect
```jsx
useEffect(() => {
  setFormIsValid(
    enteredEmail.includes('@') && enteredPassword.trim().length > 6
  );
}, [enteredEmail, enteredPassword]);
```
- enteredEmail, enteredPasswordê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ useEffect ì¬ì‹¤í–‰
- ë‚´ë¶€ì—ì„œ ë¡œê·¸ì¸ ë²„íŠ¼ í™œì„±í™” ì—¬ë¶€ë¥¼ ê²€ì¦

---

## useEffect cleanup í•¨ìˆ˜
- useEffectê°€ ì‹¤í–‰ ë˜ê³  ë‹¤ìŒ ë²ˆ useEffect ì‹¤í–‰ ì§ì „ì— ì‹¤í–‰ë˜ëŠ” ì •ë¦¬í•¨ìˆ˜

### ë¡œê·¸ì¸ ë²„íŠ¼ ê²€ì¦ cleanup í•¨ìˆ˜ ì ìš©
```jsx
useEffect(() => {
  const timerId = setTimeout(() => {
    setFormIsValid(
      enteredEmail.includes('@') && enteredPassword.trim().length > 6
    );
  }, 1000);

  // cleanup í•¨ìˆ˜
  return () => {
    clearTimeout(timerId);
  };
}, [enteredEmail, enteredPassword]);
```
- cleanup í•¨ìˆ˜ë¥¼ í†µí•´ ë””ë°”ìš´ìŠ¤ êµ¬í˜„
- enteredEmail í˜¹ì€ enteredPasswordê°€ ë³€ê²½
  -> 1ì´ˆ ë’¤ ë¡œê·¸ì¸ ë²„íŠ¼ í™œì„±í™” ê²€ì¦
- 1ì´ˆê°€ ë˜ê¸° ì „ì— ë‹¤ì‹œ ì…ë ¥í•˜ë©´ cleanup í•¨ìˆ˜ ì‹¤í–‰ë¨
  -> ê¸°ì¡´ íƒ€ì´ë¨¸ ì·¨ì†Œ, íƒ€ì´ë¨¸ ì¬ê°€ë™



