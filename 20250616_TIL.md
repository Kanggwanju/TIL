# ðŸ—“ï¸ 2025ë…„ 6ì›” 16ì¼ TIL

ì˜¤ëŠ˜ì€ ìžë°”ìŠ¤í¬ë¦½íŠ¸ì˜ **Closure**, **Lexical Scope**, **Debounce**, **Throttle**ì— ëŒ€í•´ ê³µë¶€í–ˆë‹¤.

---

## 1. ðŸ§  Closure (í´ë¡œì €)

- ìžë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì¼ê¸‰ í•¨ìˆ˜ ì–¸ì–´ì´ë¯€ë¡œ, í•¨ìˆ˜ë¥¼ ê°’ì²˜ëŸ¼ ë°˜í™˜í•˜ê±°ë‚˜ ì „ë‹¬í•  ìˆ˜ ìžˆë‹¤.

### âœ… í•¨ìˆ˜ê°€ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” ì˜ˆì‹œ

```js
function foo() {
  return 100;
}

function bar() {
  return foo;
}

const result = bar();
console.log(typeof result); // 'function'
console.log(result);        // foo
console.log(result());      // 100
```

### âœ… í—¬í¼ í•¨ìˆ˜(ì¤‘ì²© í•¨ìˆ˜)ë¥¼ ë°˜í™˜

```js
function calculate() {
  function add(n1, n2) {
    return n1 + n2;
  }
  return add;
}

const result2 = calculate();
console.log(result2(50, 70)); // 120
```

### âœ… í™”ì‚´í‘œ í•¨ìˆ˜ë¡œë„ ê°€ëŠ¥

```js
const calculate2 = () => (n1, n2) => n1 * n2;

const r3 = calculate2()(10, 3);
console.log(`r3: ${r3}`); // 30
```

---

## 2. ðŸŒ Lexical Scope (ë ‰ì‹œì»¬ ìŠ¤ì½”í”„)

* **ì •ì˜ëœ ìœ„ì¹˜**ì— ë”°ë¼ ìŠ¤ì½”í”„ê°€ ê²°ì •ë˜ëŠ” ê·œì¹™ì´ë‹¤.
* ìžë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” **ì½”ë“œë¥¼ ìž‘ì„±í•  ë•Œ** ìŠ¤ì½”í”„ê°€ ê²°ì •ëœë‹¤ (ì»´íŒŒì¼ íƒ€ìž„ ê¸°ì¤€).
* ì‹¤í–‰ ìœ„ì¹˜ì™€ëŠ” ìƒê´€ì—†ë‹¤!

### âŒ ì™¸ë¶€ì—ì„œëŠ” ë‚´ë¶€ ë³€ìˆ˜ ì ‘ê·¼ ë¶ˆê°€

```js
function outer() {
  let x = 100;
}

console.log(x); // ReferenceError
```

---

## 3. ðŸ” Closure + Lexical Scope ì‹¤ì „ ì˜ˆì‹œ

* `increaseClosure()`ëŠ” ì¹´ìš´íŠ¸ë¥¼ ê¸°ì–µí•˜ëŠ” í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ë°˜í™˜í•œë‹¤.

```js
function increaseClosure() {
  let count = 0;

  return {
    increaseCount: () => ++count,
    decreaseCount: () => --count
  };
}

const { increaseCount: increaseHobbyCount, decreaseCount: decreaseHobbyCount } = increaseClosure();
const { increaseCount: increaseFriendCount, decreaseCount: decreaseFriendCount } = increaseClosure();

console.log('===== ì·¨ë¯¸ ì¹´ìš´íŒ… ì‹œìž‘! =====');
console.log(increaseHobbyCount()); // 1
console.log(increaseHobbyCount()); // 2
console.log(decreaseHobbyCount()); // 1
console.log(increaseHobbyCount()); // 2

console.log('===== ì¹œêµ¬ ì¹´ìš´íŒ… ì‹œìž‘! =====');
console.log(increaseFriendCount()); // 1
console.log(increaseFriendCount()); // 2
console.log(decreaseFriendCount()); // 1
console.log(decreaseFriendCount()); // 0
```

* `count`ëŠ” `increaseClosure()` ì‹¤í–‰ì´ ëë‚œ ë’¤ì—ë„ **lexical scope ë‚´ë¶€ì— ìœ ì§€ëœë‹¤.**

---

## 4. ðŸ•‘ Debounce (ë””ë°”ìš´ìŠ¤)

* **ìž…ë ¥ì´ ëë‚œ ë’¤ ì¼ì • ì‹œê°„ í›„**ì— ë‹¨ í•œ ë²ˆë§Œ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë„ë¡ í•œë‹¤.
* ì„œë²„ ìš”ì²­, ê²€ìƒ‰ ìžë™ì™„ì„± ë“±ì— í™œìš©ëœë‹¤.

### âœ… ë””ë°”ìš´ìŠ¤ í´ë¡œì € ì •ì˜

```js
function debounce(callback, delay) {
  let timerId = null;

  return function (...args) {
    clearTimeout(timerId);
    timerId = setTimeout(() => {
      callback(...args);
    }, delay);
  };
}
```

### âœ… ì‚¬ìš© ì˜ˆì‹œ

```js
function searchHandler(e) {
  console.log('ì„œë²„ì— ìŒì‹ì´ë¦„ ìš”ì²­ì¤‘....');
  console.log(e.target.value);

  const foodName = e.target.value;
  const filteredFoods = foodItems.filter(food => food.includes(foodName));

  $results.innerHTML = '';
  if (filteredFoods.length > 0) {
    filteredFoods.forEach(food => {
      const $newDiv = document.createElement('div');
      $newDiv.classList.add('result-item');
      $newDiv.textContent = food;
      $results.append($newDiv);
    });
  } else {
    $results.textContent = 'ì¼ì¹˜í•˜ëŠ” ìŒì‹ì´ ì—†ìŠµë‹ˆë‹¤.';
  }
}

const debounceHandler = debounce(searchHandler, 1000);
$searchInput.addEventListener('input', debounceHandler);
```

---

## 5. ðŸš€ Throttle (ìŠ¤ë¡œí‹€)

* **ì´ë²¤íŠ¸ê°€ ê³„ì† ë°œìƒí•´ë„ ì¼ì • ì‹œê°„ ê°„ê²©ìœ¼ë¡œë§Œ ì‹¤í–‰**ë˜ê²Œ í•œë‹¤.
* ë§ˆìš°ìŠ¤ ì›€ì§ìž„, ë¬´í•œ ìŠ¤í¬ë¡¤ ë“±ì—ì„œ ì‚¬ìš©ëœë‹¤.

### âœ… ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ê³„ì‚°

```js
const scrollTop = window.scrollY;
const windowHeight = window.innerHeight;
const documentHeight = document.body.offsetHeight;

if (scrollTop + windowHeight >= documentHeight - 100) {
  loadMoreContent();
}
```

### âœ… ìŠ¤ë¡œí‹€ í•¨ìˆ˜ ì •ì˜

```js
function throttle(callback, delay) {
  let timerId = null;

  return (...args) => {
    if (!timerId) {
      timerId = setTimeout(() => {
        callback(...args);
        timerId = null;
      }, delay);
    }
  };
}
```

### âœ… ì½˜í…ì¸  ë¡œë”© í•¨ìˆ˜

```js
let initCount = 16;

function loadMoreContent() {
  if (initCount >= 30) return;

  const $loading = document.getElementById('loading');
  $loading.style.display = 'block';

  setTimeout(() => {
    for (let i = 0; i < 4; i++) {
      const $newDiv = document.createElement('div');
      $newDiv.classList.add('content-item');
      $newDiv.textContent = `ì¶”ê°€ëœ ì»¨í…ì¸  ${++initCount}`;
      document.getElementById('contentContainer').append($newDiv);
    }
    $loading.style.display = 'none';
  }, 1500);
}
```

### âœ… ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ë°”ì¸ë”©

```js
window.addEventListener('scroll', throttle(scrollHandler, 1500));
```

---

## 6. ðŸ” í˜„ìž¬ ìŠ¤íƒ€ì¼ ì •ë³´ ê°€ì ¸ì˜¤ê¸°

* `element.style.fontSize`ëŠ” **ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ë§Œ** ë°˜í™˜í•œë‹¤.
* CSSì—ì„œ ì§€ì •ëœ ê°’ì„ ì•Œê³  ì‹¶ë‹¤ë©´ `getComputedStyle()`ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

```js
const currentSize = getComputedStyle($secondText).fontSize;
console.log(currentSize); // ì˜ˆ: '20px'
```

---

## ðŸŽ¯ ì˜¤ëŠ˜ì˜ í‚¤ì›Œë“œ ìš”ì•½

| ì£¼ì œ            | í•µì‹¬ ê°œë…                     |
| ------------- | ------------------------- |
| Closure       | í•¨ìˆ˜ê°€ ì‹¤í–‰ëœ ì´í›„ì—ë„ ìŠ¤ì½”í”„ë¥¼ ìœ ì§€í•˜ëŠ” í•¨ìˆ˜ |
| Lexical Scope | ì„ ì–¸ëœ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìŠ¤ì½”í”„ê°€ ê²°ì •ë¨     |
| Debounce      | ì´ë²¤íŠ¸ê°€ ëë‚œ í›„ ë”œë ˆì´ë¥¼ ë‘ê³  í•œ ë²ˆë§Œ ì‹¤í–‰ |
| Throttle      | ì¼ì • ì‹œê°„ë§ˆë‹¤ í•œ ë²ˆì”©ë§Œ ì‹¤í–‰ë¨         |

