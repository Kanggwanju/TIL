# ğŸ—“ï¸ 2025ë…„ 9ì›” 8ì¼ TIL

## ğŸ“Œ ì˜¤ëŠ˜ì˜ í‚¤ì›Œë“œ
`Context API` `useContext` `Provider` `Consumer` `createContext` `ì „ì—­ ìƒíƒœ ê´€ë¦¬` `Props Drilling` `í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸`

---

## Context APIë€?

### Props Drillingì˜ í•œê³„
- Propsë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì€ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ê°€ ê¹Šì–´ì§ˆìˆ˜ë¡ ë¹„íš¨ìœ¨ì 
- ì¤‘ê°„ ì»´í¬ë„ŒíŠ¸ë“¤ì´ í•„ìš”í•˜ì§€ ì•Šì€ propsë¥¼ ë‹¨ìˆœíˆ ì „ë‹¬ë§Œ í•˜ëŠ” ë¬¸ì œ ë°œìƒ

### Context APIì˜ ê°œë…
- **ì°½ê³ (Context)ì— ë°ì´í„°ë¥¼ ë³´ê´€**í•˜ê³  í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§ì ‘ êº¼ë‚´ ì“°ëŠ” ë°©ì‹
- ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì˜ ê¹Šì´ì™€ ìƒê´€ì—†ì´ ì „ì—­ì ìœ¼ë¡œ ë°ì´í„° ê³µìœ  ê°€ëŠ¥

---

## Context APIì˜ 3ê°€ì§€ í•µì‹¬ ìš”ì†Œ

### 1. createContext
```javascript
const MyContext = React.createContext(ì´ˆê¸°ê°’);
```
- Context ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜
- ì¸ìë¡œ ì»¨í…ìŠ¤íŠ¸ì˜ **ì´ˆê¸°ê°’**ì„ ë°›ìŒ
- ìƒì„±ëœ ContextëŠ” Providerì™€ Consumerë¥¼ í¬í•¨

### 2. Provider
```javascript
<MyContext.Provider value={ì „ë‹¬í• _ë°ì´í„°}>
  {children}
</MyContext.Provider>
```
- Contextë¥¼ ì œê³µí•˜ëŠ” ì»´í¬ë„ŒíŠ¸
- í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì—ê²Œ Context ê°’ì„ ì œê³µ
- `value` propì„ í†µí•´ ë°ì´í„°ë¥¼ ì „ë‹¬

### 3. Consumer
```javascript
<MyContext.Consumer>
  {context => <p>{context.data}</p>}
</MyContext.Consumer>
```
- Contextë¥¼ ì†Œë¹„í•˜ëŠ” ì»´í¬ë„ŒíŠ¸
- ê°€ì¥ ê°€ê¹Œìš´ Providerì˜ `value` propì„ ì½ìŒ
- í•¨ìˆ˜í˜• ë Œë”ë§ ë°©ì‹ ì‚¬ìš©

---

## Context ì‚¬ìš© ì˜ˆì œ (í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸)

### ì „ì²´ íë¦„: ìƒì„± â†’ ì œê³µ â†’ ì†Œë¹„

```javascript
import React from 'react';

// 1. Context ìƒì„±
const MyContext = React.createContext();

// 2. Provider ì»´í¬ë„ŒíŠ¸ ìƒì„±
class MyProvider extends React.Component {
  state = {
    name: "John Doe"
  }

  render() {
    return (
      <MyContext.Provider value={{
        name: this.state.name
      }}>
        {this.props.children}
      </MyContext.Provider>
    );
  }
}

// 3. Consumer ì»´í¬ë„ŒíŠ¸ ìƒì„±
class MyConsumer extends React.Component {
  render() {
    return (
      <MyContext.Consumer>
        {context => <p>{context.name}</p>}
      </MyContext.Consumer>
    );
  }
}

// 4. App ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©
function App() {
  return (
    <MyProvider>
      <MyConsumer />
    </MyProvider>
  );
}
```

**ë™ì‘ ê³¼ì •**:
1. `MyProvider`ê°€ `name: "John Doe"`ë¥¼ Contextì— ì €ì¥
2. `MyConsumer`ê°€ Contextì—ì„œ ë°ì´í„°ë¥¼ êº¼ë‚´ì„œ í™”ë©´ì— í‘œì‹œ
3. ì¤‘ê°„ ì»´í¬ë„ŒíŠ¸ë¥¼ ê±°ì¹˜ì§€ ì•Šê³  ì§ì ‘ ë°ì´í„° ì „ë‹¬

---

## useContext Hook (í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸)

### useContextë€?
- Context APIë¥¼ **í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸**ì—ì„œ ë” ê°„ê²°í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í›…
- Consumerë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ í›¨ì”¬ ì§ê´€ì ì´ê³  ì½”ë“œê°€ ê°„ê²°í•¨

### ê¸°ë³¸ ì‚¬ìš©ë²•
```javascript
import React, { useContext } from 'react';
import MyContext from './MyContext';

function MyComponent() {
  // useContextë¡œ Context ê°’ì„ ì§ì ‘ ê°€ì ¸ì˜´
  const contextValue = useContext(MyContext);

  return <p>{contextValue}</p>;
}
```

**Consumer vs useContext ë¹„êµ**:

```javascript
// Consumer ë°©ì‹ (ë³µì¡í•¨)
<MyContext.Consumer>
  {context => <p>{context.name}</p>}
</MyContext.Consumer>

// useContext ë°©ì‹ (ê°„ê²°í•¨)
const { name } = useContext(MyContext);
return <p>{name}</p>;
```

---

## ì£¼ì˜ì‚¬í•­: Providerì™€ Consumerì˜ ê´€ê³„

### ë¬¸ì œ ìƒí™© âŒ

Provider ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ë°”ë¡œ Contextë¥¼ ì†Œë¹„í•˜ë ¤ê³  í•˜ë©´ **ì‘ë™í•˜ì§€ ì•ŠìŒ**

```jsx
const App = () => {
  return (
    <CartProvider>
      {/* âŒ CartProvider ë‚´ë¶€ì—ì„œ cartIsShownì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ */}
      {cartIsShown && <Cart />}
      <Header />
      <div id="main">
        <Meals />
      </div>
    </CartProvider>
  );
};
```

**ì´ìœ **: ProviderëŠ” ë°ì´í„°ë¥¼ **ì œê³µí•˜ëŠ”** ì—­í• ì´ì§€ **ì†Œë¹„í•˜ëŠ”** ì—­í• ì´ ì•„ë‹ˆê¸° ë•Œë¬¸

---

### í•´ê²° ë°©ë²• âœ…

Providerì˜ **í•˜ìœ„ ì»´í¬ë„ŒíŠ¸**ì—ì„œ Contextë¥¼ ì†Œë¹„í•˜ë„ë¡ ë¶„ë¦¬

```jsx
const App = () => {
  return (
    <CartProvider>
      {/* MainCartë¥¼ ë³„ë„ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬ */}
      <MainCart />
    </CartProvider>
  );
};

// Providerì˜ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ Context ì†Œë¹„
const MainCart = () => {
  const { cartIsShown } = useContext(CartContext);
  
  return (
    <>
      {cartIsShown && <Cart />}
      <Header />
      <div id="main">
        <Meals />
      </div>
    </>
  );
};
```

**í•µì‹¬ í¬ì¸íŠ¸**:
- ProviderëŠ” Contextë¥¼ ì œê³µë§Œ í•¨
- Context ì†Œë¹„ëŠ” ë°˜ë“œì‹œ Providerì˜ **í•˜ìœ„ ì»´í¬ë„ŒíŠ¸**ì—ì„œ ìˆ˜í–‰
- ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ì—¬ Providerì™€ Consumerì˜ ì—­í• ì„ ëª…í™•íˆ êµ¬ë¶„

---

## ğŸ¯ ìµœì¢… ì •ë¦¬

- **Context API**ëŠ” Props Drilling ì—†ì´ ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” React ë‚´ì¥ ê¸°ëŠ¥
- **3ê°€ì§€ í•µì‹¬ ìš”ì†Œ**: createContext(ìƒì„±) â†’ Provider(ì œê³µ) â†’ Consumer/useContext(ì†Œë¹„)
- **useContext Hook**ì€ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ Contextë¥¼ ê°„ê²°í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥
- **Providerì™€ Consumer ë¶„ë¦¬ í•„ìˆ˜** â†’ Provider ë‚´ë¶€ì—ì„œ ì§ì ‘ ì†Œë¹„ ë¶ˆê°€, í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬
- í•µì‹¬ í¬ì¸íŠ¸: **ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° ì„¤ê³„, ì—­í•  ë¶„ë¦¬, useContextë¡œ ê°„ê²°í•œ ì½”ë“œ ì‘ì„±**
