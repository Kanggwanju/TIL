# ğŸ—“ï¸ 2025ë…„ 7ì›” 11ì¼ TIL

## âœ… ì˜¤ëŠ˜ì˜ í•µì‹¬ í‚¤ì›Œë“œ

* Maven
* MVC ì•„í‚¤í…ì²˜
* Spring Boot ì„¤ì •
* Spring Controller
* Redirect vs Forward

---

## ğŸ“¦ Mavenì´ë€?

* **Maven**ì€ Java í”„ë¡œì íŠ¸ì—ì„œ í•„ìš”í•œ **ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ìë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ê³  **ë¹Œë“œ ë° ì˜ì¡´ì„± ê´€ë¦¬ë¥¼ ì‰½ê²Œ í•´ì£¼ëŠ” ë„êµ¬**
* Gradleê³¼ í•¨ê»˜ ê°€ì¥ ë§ì´ ì“°ì´ëŠ” ë¹Œë“œ ë„êµ¬ ì¤‘ í•˜ë‚˜

---

## ğŸ§± MVC ì•„í‚¤í…ì²˜

### â—MVC í•„ìš”í•œ ì´ìœ 

* ê¸°ì¡´ì—ëŠ” ì„œë¸”ë¦¿(Servlet)ì´ \*\*ëª¨ë“  ì—­í• (ìš”ì²­ ì²˜ë¦¬, ë°ì´í„° ì²˜ë¦¬, ë·° ë Œë”ë§ ë“±)\*\*ì„ í˜¼ì ë‹¤ í•´ê²°
* â¡ï¸ ì´ê²ƒì€ OOPì˜ \*\*ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP)\*\*ì„ ìœ„ë°˜í•œ êµ¬ì¡°

* ê·¸ë˜ì„œ ê° ì—­í• ì„ ë‚˜ëˆ  ëª¨ë“ˆí™”í•œ êµ¬ì¡°ê°€ ë°”ë¡œ **MVC(Model-View-Controller)** íŒ¨í„´

---

### ğŸ“Œ MVC êµ¬ì„± ìš”ì†Œ

| êµ¬ì„± ìš”ì†Œ          | ì„¤ëª…                               |
| -------------- | -------------------------------- |
| **Model**      | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬, DB ì—°ë™ ë“± ë°ì´í„° ì²˜ë¦¬       |
| **View**       | ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì§€ëŠ” í™”ë©´ (JSP, Thymeleaf ë“±) |
| **Controller** | ì‚¬ìš©ì ìš”ì²­ ì²˜ë¦¬, Modelê³¼ View ì—°ê²° ì—­í•      |

---

### ğŸ“ˆ MVC ë™ì‘ íë¦„

1. ì‚¬ìš©ìê°€ URLë¡œ ìš”ì²­ì„ ë³´ëƒ„
2. `DispatcherServlet`ì´ ìš”ì²­ì„ ë°›ì•„ ì•Œë§ì€ `Controller`ë¡œ ì „ë‹¬
3. `Controller`ê°€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§(Model)ê³¼ í†µì‹ 
4. ì²˜ë¦¬ëœ ë°ì´í„°ë¥¼ Viewì— ì „ë‹¬í•˜ê³ , ì‚¬ìš©ìì—ê²Œ ê²°ê³¼ ì‘ë‹µ

---

### ğŸ”’ ë³´ì•ˆìƒ JSP ë§ˆìŠ¤í‚¹ ì²˜ë¦¬

* URLì— ì‹¤ì œ JSP ê²½ë¡œê°€ ë…¸ì¶œë˜ë©´ ë³´ì•ˆìƒ ìœ„í—˜í•¨
* `WEB-INF` í´ë” ì•ˆì— JSPë¥¼ ë„£ìœ¼ë©´ ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ìŒ
* ëŒ€ì‹  **ì„œë¸”ë¦¿ì„ í†µí•´ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥**

```java
@WebServlet("/mvc/v1/new")
public class AddNewDancerServlet extends HttpServlet {

    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {

        // JSP íŒŒì¼ì„ ì°¾ì•„ì„œ Viewë¥¼ ë³´ì—¬ì¤Œ (ë·° í¬ì›Œë”©)
        RequestDispatcher dp = req.getRequestDispatcher("/WEB-INF/chap04/dancer/dancer-register.jsp");
        dp.forward(req, resp);
    }
}
```

---

## ğŸ” Redirect vs Forward

| êµ¬ë¶„           | íŠ¹ì§•                                                 |
| ------------ | -------------------------------------------------- |
| **Redirect** | í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ìƒˆ ìš”ì²­ì„ ë³´ë‚´ê²Œ í•¨ (ì£¼ì†Œì°½ URL ë³€ê²½ë¨), ì˜ˆ: ì‚­ì œ í›„ ëª©ë¡ìœ¼ë¡œ ì´ë™ |
| **Forward**  | ì„œë²„ ë‚´ë¶€ì—ì„œ í•´ë‹¹ ë·°ë§Œ ë³´ì—¬ì¤Œ (URL ë³€ê²½ ì—†ìŒ), ì˜ˆ: ë“±ë¡ í¼ ë„ìš°ê¸° ë“±       |

---

## ğŸŒ± ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ ì†Œê°œ

### ğŸ“¦ Springì˜ êµ¬ì„±

* **ë‹¤ì–‘í•œ ëª¨ë“ˆ**(ì›¹, ë°ì´í„°, ì‹œíë¦¬í‹° ë“±)ë¡œ êµ¬ì„±ëœ í”„ë ˆì„ì›Œí¬
* ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹ ë¥´ê²Œ ê°œë°œí•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤Œ

---

### ğŸ“ Spring í”„ë¡œì íŠ¸ ìƒì„±

* [https://start.spring.io](https://start.spring.io) ì—ì„œ ìƒì„±
* Project: Gradle - Groovy
* Language: Java
* Spring Boot: `3.4.7`
* Group: ë³´í†µ íšŒì‚¬ì˜ ë„ë©”ì¸ì„ ì”€, ì´ë²ˆì—ëŠ” com.spring
* Artifact: í”„ë¡œì íŠ¸ ì´ë¦„ (basic)
* Name: í´ë” ì´ë¦„
* Package name: ë£¨íŠ¸
* Packaging: Jar
* Java Version: `17`
* í•„ìš”í•œ ëª¨ë“ˆ: `Lombok`, `Spring Web`, `Spring Boot DevTools`

---
* ì¸í…”ë¦¬ì œì´ ìŠ¤í”„ë§ ì„¸íŒ…
* ![IntelliJ_spring_set.png](IntelliJ_spring_set.png)
---
**application.properties**

* í•µì‹¬ ì„¤ì • íŒŒì¼
* ì‹¤ì œ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” **Gitì— ì˜¬ë¦¬ë©´ ì•ˆ ë¨!**

**build.gradle**

* ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± ê´€ë¦¬
* ì¶”ê°€ ì‹œ [Maven Repository](https://mvnrepository.com)ì—ì„œ ì½”ë“œë¥¼ ë³µì‚¬í•´ì„œ `dependencies`ì— ë¶™ì—¬ë„£ìŒ

---

## ğŸ® ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ ê¸°ë³¸ ì‚¬ìš©ë²•

### ğŸ”¹ @Controller vs @RestController

| ì• ë…¸í…Œì´ì…˜             | ì„¤ëª…                                 |
| ----------------- | ---------------------------------- |
| `@Controller`     | JSPì™€ ê°™ì€ View ë°˜í™˜ìš©                   |
| `@RestController` | JSON ì‘ë‹µìš© (`@ResponseBody` ë‚´ì¥ë˜ì–´ ìˆìŒ) |

---

### HelloController ì˜ˆì‹œ

```java
@Controller
public class HelloController {

    @RequestMapping("/chap01/hello")
    @ResponseBody
    public Map<String, Object> hello() {
        return Map.of("name", "ê¹€ì² ìˆ˜", "age", 50);
    }

    @RequestMapping("/chap01/bye")
    public String bye() {
        // bye.jspë¥¼ ì—´ì–´ì¤Œ (ë·° í¬ì›Œë”©)
        return "bye";
    }
}
```

âœ… `@ResponseBody`ê°€ ìˆìœ¼ë©´ JSON ë¦¬í„´, ì—†ìœ¼ë©´ JSP ë·°ë¥¼ ì°¾ìŒ
âœ… return "bye"ëŠ” `/WEB-INF/views/bye.jsp`ë¥¼ ì—´ì–´ì£¼ëŠ” ê²ƒìœ¼ë¡œ ë§¤í•‘ë©ë‹ˆë‹¤ (view resolver ì„¤ì •ì— ë”°ë¼)

---

### BasicController ì˜ˆì‹œ

```java
@RestController
@RequestMapping("/chap2-2")
public class BasicController {

    @GetMapping("/hello")
    public String hello() {
        return "hello spring";
    }

    @PostMapping("/hobby")
    public List<String> hobby() {
        return List.of("ìˆ˜ì˜", "ì¶•êµ¬", "ë‚®ì ", "ì‹œë¹„ê±¸ê¸°");
    }
}
```

âœ” `@RestController`ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ JSON ì‘ë‹µ
âœ” `@GetMapping`, `@PostMapping`ìœ¼ë¡œ ë©”ì„œë“œ êµ¬ë¶„

---

### ProductController ì˜ˆì‹œ

```java
@RestController
@RequestMapping("/products")
public class ProductController {

    private Map<Long, Product> productMap = new HashMap<>();
    private long nextId = 1;

    public ProductController() {
        productMap.put(nextId++, new Product(nextId, "ì—ì–´ì»¨", 1000000));
        productMap.put(nextId++, new Product(nextId, "ì„¸íƒê¸°", 1500000));
        productMap.put(nextId++, new Product(nextId, "ê³µê¸°ì²­ì •ê¸°", 300000));
    }

    @GetMapping
    public Product getProduct(
        @RequestParam("id") long id,
        @RequestParam(value = "price", required = false, defaultValue = "1000") int price
    ) {
        return productMap.get(id);
    }
}
```

âœ… `@RequestParam`ì€ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ íŒŒë¼ë¯¸í„°ë¥¼ ìë™ìœ¼ë¡œ ë§¤í•‘í•´ì¤Œ
âœ… `required = false`ë¡œ ì„ íƒì  íŒŒë¼ë¯¸í„° ì²˜ë¦¬ ê°€ëŠ¥, ê¸°ë³¸ê°’ë„ ì„¤ì • ê°€ëŠ¥

---

## ğŸ§  ì˜¤ëŠ˜ì˜ ìš”ì•½

* **MVC íŒ¨í„´**ì€ ì—­í•  ë¶„ë¦¬ë¥¼ í†µí•´ ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í™•ì¥ì„±ì„ ë†’ì„
* **Servlet â†’ JSP êµ¬ì¡°**ì˜ ë¬¸ì œì ì„ ê°œì„ í•˜ê¸° ìœ„í•´ ë“±ì¥
* **Spring**ì€ ì´ MVC êµ¬ì¡°ë¥¼ ì†ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ê°•ë ¥í•œ í”„ë ˆì„ì›Œí¬
* ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ ë• `@Controller`, `@RestController`ë¥¼ ìƒí™©ì— ë§ê²Œ ì‚¬ìš©
* **í¬ì›Œë”©**ê³¼ **ë¦¬ë‹¤ì´ë ‰íŠ¸**ì˜ ì°¨ì´ëŠ” ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œ ë§¤ìš° ì¤‘ìš”!
