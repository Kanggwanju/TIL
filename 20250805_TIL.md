# ğŸ—“ï¸ 2025ë…„ 8ì›” 5ì¼ TIL

## ğŸ“Œ ì˜¤ëŠ˜ í•œ ì¼

* **í† ì´ í”„ë¡œì íŠ¸ ìƒì„±**

    * **Spring Boot**: 3.5.4
    * **í”„ë¡œì íŠ¸ ì´ë¦„**: `spring-toy-project`
    * **Artifact**: `toyproject`
    * **JDK**: Corretto-17 (Amazon Corretto)
    * **Java ë²„ì „**: 17
    * **íŒ¨í‚¤ì§•**: Jar

* **ì¶”ê°€ ì¢…ì†ì„±**

    * Spring Boot DevTools
    * Lombok
    * Spring Web
    * Thymeleaf
    * Spring Data JPA
    * MariaDB Driver

---

## ğŸ‘¤ ì‚¬ìš©ì ì—”í„°í‹° ì„¤ê³„

### í•µì‹¬ í¬ì¸íŠ¸

* ì¸ì¦ ì‹œìŠ¤í…œì˜ **í•µì‹¬ ì—”í„°í‹°**ë¡œì„œ ê¸°ë³¸ ì‚¬ìš©ì ì •ë³´ë¥¼ ê´€ë¦¬
* `id`, `ìƒì„±ì‹œê°„`, `ìˆ˜ì •ì‹œê°„`ì€ ìë™ ìƒì„±
* íŒ¨ìŠ¤ì›Œë“œëŠ” \*\*ì•”í˜¸í™”(í•´ì‹œ)\*\*ë˜ì–´ ì €ì¥ë˜ë¯€ë¡œ DB ì»¬ëŸ¼ ê¸¸ì´ë¥¼ ë„‰ë„‰í•˜ê²Œ ì„¤ì •

```java
@Entity
@Table(name = "tbl_user")
@Getter
@ToString
@EqualsAndHashCode(of = "id")
@NoArgsConstructor(access = AccessLevel.PROTECTED)
public class User {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "user_id")
    private Long id;

    @Column(name = "user_name", unique = true, nullable = false, length = 50)
    private String username;

    @Column(name = "user_email", unique = true, nullable = false, length = 100)
    private String email;

    @Column(name = "password", nullable = false, length = 255)
    private String password;
    
    @CreationTimestamp
    @Column(nullable = false, updatable = false)
    private LocalDateTime createdAt;

    @UpdateTimestamp
    @Column(nullable = false)
    private LocalDateTime updatedAt;
    
    @Builder
    public User(String username, String email, String password) {
        this.username = username;
        this.email = email;
        this.password = password;
    }
}
```

#### ğŸ“ ì„¤ê³„ ì´ìœ 

* **`@EqualsAndHashCode(of = "id")`**: `id`ê°€ ê°™ìœ¼ë©´ ë™ì¼ ê°ì²´ë¡œ íŒë‹¨
* **íŒ¨ìŠ¤ì›Œë“œ ê¸¸ì´ 255**: í•´ì‹œ ì²˜ë¦¬ ì‹œ ê¸¸ì´ê°€ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆì–´ ì—¬ìœ ìˆê²Œ ì„¤ì •
* **ìƒì„±/ìˆ˜ì • ì‹œê°„ í•„ë“œ**: ëª¨ë“  í…Œì´ë¸”ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ í•„ìš”

---

## ğŸ“‚ UserRepository ìƒì„±

```java
public interface UserRepository extends JpaRepository<User, Long> {

    // ë¡œê·¸ì¸ ì‹œ, ì‚¬ìš©ì ì´ë¦„ ë˜ëŠ” ì´ë©”ì¼ë¡œ ê²€ìƒ‰
    Optional<User> findByUsername(String username);
    Optional<User> findByEmail(String email);

    // ì¤‘ë³µ ì²´í¬
    boolean existsByUsername(String username);
    boolean existsByEmail(String email);
}
```

#### ğŸ“ ì„¤ê³„ ì´ìœ 

* ë¡œê·¸ì¸ ì‹œ ìˆ«ì `id` ëŒ€ì‹  `username` ë˜ëŠ” `email`ì„ ì‚¬ìš©
* íšŒì›ê°€ì… ì‹œ **ì¤‘ë³µ ë°©ì§€ ë¡œì§** êµ¬í˜„ ê°€ëŠ¥

---

## ğŸ“ ì˜¤ëŠ˜ì˜ í•™ìŠµ ì •ë¦¬

* **Entity ì„¤ê³„ ì‹œ ì£¼ì˜ì **

    1. `id`, `createdAt`, `updatedAt`ì€ ìë™ ê´€ë¦¬
    2. íŒ¨ìŠ¤ì›Œë“œëŠ” í•´ì‹œ ì €ì¥ â†’ ì»¬ëŸ¼ ê¸¸ì´ ë„‰ë„‰íˆ
    3. `@Builder` ì‚¬ìš© ì‹œ, ìë™ ìƒì„±ë˜ëŠ” ê°’ì€ ë¹Œë”ì— í¬í•¨í•˜ì§€ ì•ŠìŒ

* **Repository ì„¤ê³„ ì‹œ ì£¼ì˜ì **

    1. ë¡œê·¸ì¸ ê²€ìƒ‰ì€ `username`/`email` ê¸°ë°˜
    2. íšŒì›ê°€ì… ì „ ì¤‘ë³µ ì²´í¬ ë©”ì„œë“œ êµ¬í˜„

