
# 2025년 5월 15일 TIL

## Git Merge vs Rebase

### 🧩 Git Merge
- **정의**: 두 브랜치의 작업 내역을 하나의 **새 커밋**으로 합치는 방법
- **작동 방식**:
  - 공통 조상 이후의 커밋들을 하나로 병합 → 새 커밋 생성
  - 기존 커밋 히스토리는 유지됨
- ✅ 장점:
  - 히스토리 보존
  - 충돌 해결이 한 번에 가능
- ⚠️ 단점:
  - 브랜치가 많아질수록 히스토리가 복잡해짐

### 🔄 Git Rebase
- **정의**: 현재 브랜치의 커밋을 **다른 브랜치 끝으로 옮김**
- **작동 방식**:
  - 현재 브랜치 커밋을 복사 → 대상 브랜치의 최신 커밋 뒤에 재적용

```bash
git checkout feature-branch
git rebase main
```

- ✅ 장점:
  - 선형 히스토리 (분석, 디버깅 용이)
  - 깔끔한 커밋 흐름 유지
- ⚠️ 단점:
  - 공개된 브랜치에서는 위험
  - 커밋마다 충돌 발생 가능

### 🚫 Rebase 사용 주의사항
- 공유된 브랜치에서는 rebase **지양**
- 협업 브랜치에서는 merge 사용이 바람직

### ⚙️ Rebase 충돌 해결
```bash
git status                  # 충돌 파일 확인
# 충돌 해결 후
git add <파일>
git rebase --continue      # 리베이스 재시작
git rebase --abort         # 리베이스 취소
```

---

## ✨ Git Interactive Rebase

### 🛠 정의
- 커밋 히스토리를 세밀하게 편집, 재정렬, 삭제, 합치는 도구

### 🔧 기본 사용법
```bash
git rebase -i <commit 또는 브랜치>
git rebase -i HEAD~5     # 최근 5개의 커밋 대상으로 인터랙티브
```

### ✏️ 커밋 리스트 예시
```
pick 3f5e4c8 Add feature X
pick 2d4f5c7 Fix bug Y
pick b2d4e5f Improve documentation
```

- `pick`: 유지
- `reword`: 메시지 수정
- `edit`: 커밋 내용 수정
- `squash`: 이전 커밋과 합치기 (메시지 병합)
- `fixup`: 이전 커밋과 합치기 (메시지 무시)
- `drop`: 커밋 삭제

### ⚠️ 주의사항
- push 전에 사용하여 정리
- 공유된 브랜치에서는 신중하게 사용

---

## 🍒 Git Cherry-Pick

### 🎯 정의
- 특정 커밋을 선택해 현재 브랜치에 적용하는 방법

### 💡 사용 시점
- 다른 브랜치의 버그 수정을 가져올 때
- 특정 기능만 현재 브랜치에 반영할 때

### ✅ 장점
- 필요한 커밋만 선택 적용
- 유연한 히스토리 관리

### ⚠️ 단점
- 해시 충돌 및 히스토리 복잡 가능성
- 충돌 발생 가능성 증가

### 🧪 사용법
```bash
git cherry-pick <커밋 해시>
git cherry-pick abc123 def456          # 여러 개 적용
git cherry-pick a1b2c3..d4e5f6         # 범위 지정
```

### ⚙️ 충돌 해결
```bash
git status
# 충돌 해결 후
git add <파일>
git cherry-pick --continue
git cherry-pick --abort
```

### 🧠 실무 팁
- 팀원과의 **커뮤니케이션 중요**
- 중복 적용 피하기
- 테스트 철저히 진행

### 🔄 Cherry-Pick vs Merge vs Rebase
| 항목         | Cherry-Pick           | Merge                      | Rebase                        |
|--------------|------------------------|-----------------------------|-------------------------------|
| 대상         | 특정 커밋              | 전체 브랜치                 | 현재 브랜치의 커밋을 재적용  |
| 히스토리      | 새 커밋 해시 생성       | 머지 커밋 생성               | 히스토리 재작성               |
| 용도         | 일부 커밋 선택 적용     | 기능 통합                   | 깔끔한 히스토리 유지          |

---

## 🧭 git reflog

### 📌 정의
- HEAD 및 브랜치 이동, 병합, 커밋 등 모든 로컬 변경 이력 확인

### 🧰 사용 예시
- 과거 커밋 복구
- 잘못된 reset 복구
- 특정 시점 HEAD 위치 확인

### 🔍 예시 명령어
```bash
git reflog
git reset --hard HEAD@{1}          # 이전 상태 복구
git checkout HEAD@{3.days.ago}     # 3일 전 상태 확인
```

### ⚠️ 주의사항
- reflog는 **로컬 전용**
- 약 90일간만 기록 유지됨
