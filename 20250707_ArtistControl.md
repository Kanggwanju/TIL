# 🎵 자바 음악 관리 프로그램 실습 정리 (2025년 7월 7일)


## ✅ 실습 목표

* 가수 이름과 노래 목록을 저장하고 조회할 수 있는 프로그램 제작
* 클래스 분리 및 역할 분담을 통해 **객체지향 설계 연습**
* **결합도 낮추기**, **모듈 역할 분리**, **코드 재사용성** 중심으로 리팩토링 경험

---

## 📦 프로젝트 구성

### 클래스 구조

| 클래스                | 역할                      |
| ------------------ | ----------------------- |
| `Run`              | 프로그램 시작점                |
| `ArtistController` | 입출력 및 사용자 명령 처리         |
| `ArtistRepository` | 가수 및 노래 정보 저장 및 조회      |
| `Artist`           | 가수 정보와 노래 목록을 가진 도메인 객체 |

---

## 🔍 비교 분석: 나의 풀이 vs 선생님 풀이

### 1. `Artist` 클래스

| 항목          | 나의 풀이                | 선생님 풀이                      |
| ----------- | -------------------- | --------------------------- |
| 노래 목록 전달 방식 | 생성자로 직접 전달           | 생성자에서 내부에서 직접 `HashSet` 초기화 |
| 노래 추가 메서드   | 없음 (외부에서 직접 Set에 접근) | `addSong(String)` 메서드로 캡슐화  |
| 변경 가능성 제어   | 없음                   | `final` 필드 사용으로 변경 불가 보장    |

**💡 개선 포인트**

* 노래 목록을 외부에서 조작하는 방식은 **캡슐화 원칙 위반**
* 선생님 코드처럼 `addSong` 메서드를 통해 **내부 자료구조는 숨기고 기능만 공개**하는 방식이 더 안전함

---

### 2. `ArtistRepository` 클래스

| 항목       | 나의 풀이                                     | 선생님 풀이                              |
| -------- | ----------------------------------------- | ----------------------------------- |
| 데이터 저장   | `Map<String, Artist>` 직접 조작               | 동일하지만 책임 분리와 메시지 중심                 |
| 노래 추가 방식 | 직접 Set 꺼내서 중복 체크 후 추가                     | `Artist` 객체의 `addSong` 호출로 내부 처리 위임 |
| 출력 처리    | Repository 내부에서 직접 `System.out.println()` | Controller에 출력 책임 위임 (OOP 원칙 충실)    |

**💡 개선 포인트**

* **출력은 저장소가 아닌 Controller에서 수행**하는 게 맞음
  → 저장소는 **데이터를 반환하는 역할에 집중**
* 가수 객체 내부 동작을 노출시키기보다
  → `artist.addSong()` 같은 **행동 위임 방식이 더 유연함**

---

### 3. `ArtistController` 클래스

| 항목     | 나의 풀이            | 선생님 풀이                       |
| ------ | ---------------- | ---------------------------- |
| 입출력 처리 | 전체적으로 적절하게 처리    | 동일하나 메시지 전달 흐름이 더 명확함        |
| 로직 분기  | 기능은 구현되어 있음      | 예외 처리, 안내 메시지, 흐름 관리가 더 세련됨  |
| 반복문 흐름 | 무한 루프 후 종료 조건 체크 | 동일하지만, 사용자 응답 처리 시 안내가 더 친절함 |

**💡 개선 포인트**

* 사용자 친화적 메시지 처리, 메뉴 안내 등에서
  → **세세한 사용자 경험 부분을 배울 수 있음**

---

## 📌 내가 느낀 핵심 배움 정리

### 🎯 1. 모듈 간 책임 분리

* 컨트롤러는 **입출력과 사용자 흐름 처리에 집중**
* 저장소는 **데이터 저장, 검색, 추가/삭제 등 비즈니스 로직에만 집중**
* 도메인 객체는 **자기 데이터를 지키고, 필요한 행동만 노출**

> ➤ **역할이 명확하면 유지보수와 확장이 쉬워짐**

---

### 🎯 2. 불변성 유지와 캡슐화

* `final`, `private`, `addSong()` 메서드 등의 활용으로
* **데이터 변경 가능성 줄이고**, **외부에서 마음대로 접근하지 못하게 만듦**

---

### 🎯 3. 결합도 낮추기

* 현재 내 코드는 모듈 간의 의존이 너무 강함
  → Artist 내부 구조가 바뀌면 저장소까지 영향을 받음
* 선생님 코드처럼 **행동을 위임하고 반환값만 받는 구조로 개선 필요**

---

## ✅ 리팩토링 계획 요약

| 개선 항목              | 현재 상태            | 목표                                       |
| ------------------ | ---------------- | ---------------------------------------- |
| `Artist`의 노래 목록 접근 | 직접 Set 반환        | 내부 메서드를 통한 제어 (`addSong`, `getSongList`) |
| 출력 로직 위치           | Repository 내부 포함 | Controller로 이동                           |
| 중복 체크 방식           | 외부에서 직접 처리       | Artist 내부에서 처리                           |
| 데이터 변경 가능성         | 필드 직접 접근         | `private final` 필드 사용으로 변경 불가 처리         |
| 역할 분리              | 모듈 간 결합도 높음      | **역할에 맞는 책임 분리와 위임 구조** 적용               |

---

## ✨ 마무리 소감

이번 실습을 통해 단순한 기능 구현을 넘어
\*\*"좋은 코드란 무엇인가?"\*\*에 대한 감각을 키울 수 있었고,
**클래스 간 결합도 줄이기**, **캡슐화**, **책임 분리**의 중요성을 체감할 수 있었습니다.

> 앞으로는 구조를 먼저 설계하고,
> 기능은 그 구조 안에서 유연하게 붙이는 방식을 연습할 계획입니다.

