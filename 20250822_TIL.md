# 🗓️ 2025년 8월 22일 TIL - SQL D 시험 공부


3. 엔터티

발생 시점에 따라 구분하는 엔터티의 유형
- 기본 엔터티 (유저)
- 중심 엔터티 (게시물)
- 행위 엔터티 (좋아요)

유/무형 따라 구분하는 엔터티의 유형
- 유형 엔터티, 물리적으로 존재 (게시물)
- 개념 엔터티, 물리적 형태 x, 개념적 존재 (해시태그)
- 사건 엔터티, 특정 행위가 발생함으로써 만들어짐 (좋아요)

---

4. 데이터 모델

학생–수강신청–강좌의 관계

엔터티 구조:

- 학생(Student)
  - 기본키(PK): 학생번호
  - 속성: 학생명, 소속학과, 학년

- 강좌(Course)
  - 기본키(PK): 강좌번호
  - 속성: 강좌명, 담당교수

- 수강신청(Enrollment) (관계 엔터티)
  - 기본키(PK): (학생번호 + 강좌번호) 복합키
  - 속성: 등록일자

즉, 수강신청은 학생과 강좌를 연결해주는 관계 엔터티


1. 강좌 엔터티는 각 인스턴스를 유일하게 구분하기 위한 고유 식별자를 별도로 생성한다.
-> 강좌번호가 PK로 설정되어 있으니 맞는 말

2. 한 학생의 수강신청 내역에는 동일한 강좌가 여러 번 나타날 수 있다. X
-> 수강신청은 (학생번호 + 강좌번호)로 복합키
   한 학생이 같은 강좌를 중복 신청할 수 없음

3. 학생 엔터티는 자체 식별자를 가지므로 기본 엔터티

4. 수강신청 엔터티는 학생의 행동 발생 시 생성되므로, 사건 엔터티

---

5. 속성의 종류

역할에 따른 분류
- 기본속성 (원래부터 존재, email)
- 설계속성 (인위적으로 만들음, 새로 정의, user_id)
- 파생속성 (계산되어 생성, COUNT(*))

---

6. 속성

단순 속성
- 더 이상 나눌 수 없는 속성

복합 속성
- 하위 속성을 가지는 속성

다중값 속성
- 여러 값을 가질 수 있는 속성

---

8. 식별자

보조식별자
- 엔터티 내에서 인스턴스를 유일하게 구분할 수 있는 속성
- 주식별자로 선택되지 않은 식별자
- 주식별자 와 동일하게 유일성을 보장
- 다른 엔터티와의 참조 관계에는 사용되지 않는다는 차이점

---

15. WHERE 절
SELECT COL1 FROM TAB WHERE COL1 = 100;
- WHERE 절에서 테이블에 없는 데이터를 조회
  -> 아무 행도 출력 x, 결과는 공집합

SELECT MIN(COL1) FROM TAB WHERE COL1 = 100;
- COL1에서 100이라는 데이터가 존재하지 않음
  -> 빈 테이블에서 MIN 값을 구하는 상황
  -> 집계 함수는 비어있는 집합에서는 계산할 수 없음
  -> NULL 반환

---

18. 연산자 우선순위
문제: BETWEEN, NOT, AND, OR

‘괄호 ＞ 산술 연산자 ＞ 비교 연산자 ＞ BETWEEN 연산자 ＞ 논리 연산자’

NOT, AND, OR: 논리 연산자

BETWEEN 연산자의 우선순위가 가장 높다.

---

20. 집계함수, WHERE 절

제품ID가 ‘A001’, ‘A002’, ‘A003’인 행이 각각 10개, 15개, 20개가 존재


SELECT COUNT(DISTINCT 제품ID) FROM 주문;
- 제품 ID는 가지 종류, 중복 제거 -> 3

WHERE 제품ID IN (NULL, ‘A001’)
- NULL은 비교 연산에서 항상 제외
- 제품ID IN (‘A001’)과 동일하게 작동

---

25. ORDER BY

합계 금액이 낮은 순(오름차순)으로 정렬
-> ORDER BY SUM(월매출) ASC;

---

26. GROUP BY, HAVING 절

GROUP BY 절이 포함된 쿼리에서는

SELECT 절이나 ORDER BY 절에 `그룹화된 칼럼`이나 `집계 함수`의 결과만 사용

---

33. WHERE 절

C1 NOT IN (30, 40, NULL)

- NOT IN의 괄호 안에 NULL이 포함되어 있는 경우
- 무조건 FALSE를 반환
- SELECT 문에서 뭘 해도 공집합, COUNT(*) = 0 


