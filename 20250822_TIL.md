# 🗓️ 2025년 8월 22일 TIL - SQLD 시험 공부

## 오늘의 키워드

* 엔터티 유형 (기본/중심/행위, 유형/개념/사건)
* 데이터 모델: 학생–수강신청–강좌
* 속성의 종류 (기본/설계/파생, 단순/복합/다중값)
* 식별자 (주식별자, 보조식별자)
* SQL 핵심 문법: WHERE, 집계 함수, GROUP BY, ORDER BY, 연산자 우선순위

---

## 엔터티 정리

### 발생 시점 기준

* **기본 엔터티**: 독립적으로 생성 (예: 유저)
* **중심 엔터티**: 기본 엔터티에서 파생 (예: 게시물)
* **행위 엔터티**: 행위 발생 시 생성 (예: 좋아요)

### 존재 형태 기준

* **유형 엔터티**: 물리적으로 존재 (예: 게시물)
* **개념 엔터티**: 물리적 형태는 없고 개념적 존재 (예: 해시태그)
* **사건 엔터티**: 특정 행위로 발생 (예: 좋아요)

---

## 데이터 모델 예시: 학생–수강신청–강좌

* **학생(Student)**

  * PK: 학생번호
  * 속성: 학생명, 소속학과, 학년

* **강좌(Course)**

  * PK: 강좌번호
  * 속성: 강좌명, 담당교수

* **수강신청(Enrollment)** (관계 엔터티)

  * PK: (학생번호 + 강좌번호) 복합키
  * 속성: 등록일자

👉 수강신청은 학생과 강좌를 연결하는 **관계 엔터티**

### 문제 풀이

1. 강좌 엔터티는 PK(강좌번호)로 각 인스턴스를 구분 → **맞음**
2. 한 학생이 동일 강좌를 여러 번 신청 가능? → **불가능** (복합키 때문에)
3. 학생 엔터티는 자체 식별자(PK) 존재 → **기본 엔터티**
4. 수강신청 엔터티는 학생의 행위 발생 시 생성 → **사건 엔터티**

---

## 속성의 종류

### 역할에 따른 분류

* 기본속성: 원래 존재 (예: email)
* 설계속성: 인위적으로 만든 속성 (예: user\_id)
* 파생속성: 계산으로 생성 (예: COUNT(\*))

### 형태에 따른 분류

* 단순 속성: 더 이상 나눌 수 없는 속성
* 복합 속성: 하위 속성을 가짐
* 다중값 속성: 여러 값을 가질 수 있음

---

## 식별자

* **보조식별자**

  * 엔터티 내 인스턴스를 유일하게 구분할 수 있음
  * 주식별자로 선택되지 않은 속성
  * 유일성 보장은 동일하지만, 참조 관계에는 사용되지 않음

---

## SQL 개념 정리

### WHERE 절

```sql
SELECT COL1 FROM TAB WHERE COL1 = 100;
-- 해당 데이터가 없으면 공집합
```

```sql
SELECT MIN(COL1) FROM TAB WHERE COL1 = 100;
-- 데이터가 없으면 집계 함수 결과는 NULL
```

---

### 연산자 우선순위

* 괄호 ＞ 산술 ＞ 비교 ＞ BETWEEN ＞ 논리연산자(NOT, AND, OR)
* BETWEEN이 NOT/AND/OR보다 우선순위가 높음

---

### 집계 함수 & WHERE

* `COUNT(DISTINCT 제품ID)` → 중복 제거 후 개수
* `WHERE IN (NULL, 'A001')` → NULL은 항상 제외 → `'A001'`만 필터링

---

### ORDER BY

* 합계 금액이 낮은 순 정렬:

```sql
ORDER BY SUM(월매출) ASC;
```

---

### GROUP BY / HAVING

* GROUP BY 사용 시 → SELECT, ORDER BY 절에는 `그룹화된 컬럼`이나 `집계 함수`만 사용 가능

---

### WHERE 절 주의 (NOT IN + NULL)

```sql
C1 NOT IN (30, 40, NULL)
```

* 괄호 안에 `NULL` 포함 → 결과는 항상 FALSE → **공집합 반환**

---

## 최종 정리

* 엔터티는 **발생 시점**과 **존재 형태** 기준으로 분류된다.
* 수강신청 같은 관계 엔터티는 **복합키**를 활용해 중복을 방지한다.
* 속성은 기본/설계/파생, 단순/복합/다중값 등으로 구분된다.
* 보조식별자는 유일성은 보장하지만 참조에는 사용되지 않는다.
* SQL에서는 WHERE, GROUP BY, ORDER BY, 집계 함수, 연산자 우선순위 등 시험에 자주 나오는 포인트를 숙지해야 한다.

