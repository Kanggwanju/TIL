# 🗓️ 2025년 9월 26일 TIL

## 🔑 오늘의 키워드
- AMI (Amazon Machine Image)
- Instance Store
- EFS (Elastic File System)
- RDS (Relational Database Service)
- Aurora
- Multi-AZ
- Read Replica

---

## Amazon Machine Image (AMI)
- OS, 애플리케이션, 서버 설정 등이 미리 구성된 이미지
- 필요성:
    - 서버 1개 세팅 후 트래픽 증가 → 스케일 아웃 시 다시 설치해야 하는 문제
    - AMI를 사용하면 동일한 설정으로 손쉽게 서버 증설 가능
- 생성 방법:
    - **EC2 인스턴스 선택 → 작업 → 이미지 및 템플릿 → 이미지 생성**

---

## Instance Store
- 블록 수준의 임시 스토리지
- 특정 인스턴스 유형은 Instance Store라고 하는 스토리지를 가지고 있음
- Instance Store는 서버에 직접 장착되어 있는 물리적 SSD 또는 HDD스토리지
- Instance Store는 IOPS 성능이 매우 높은 고성능 스토리지
- 인스턴스 중지 or 종료시 인스턴스 스토어의 모든 스토리지 블록이 리셋
- 영구적인 저장소가 아닌 고성능을 요구하는 애플리케이션의 임시 저장소로 적합

## Elastic File System (EFS)
- 리눅스 환경의 EC2 인스턴스에서 연결하기 위한 네트워크 파일 스토리지
- Network File System(NFS)프로토콜을 지원
- 여러 가용영역에 있는 수십~수백대의 EC2연결 가능
- EFS는 보안그룹을 통해 인스턴스에 연결
- EC2외에 Linux방식의 온-프레미스 서버에서도 연결가능

---

## 데이터베이스 종류

관계형 데이터베이스 (RDS)
- 데이터들이 서로 연결되어 관계들로 구성된 데이터베이스
- Amazon RDS, Amazon Aurora

NoSQL 데이터베이스
- 관계 구조를 갖지 않는 데이터베이스 관리 시스템
- Amazon DynamoDB

인 메모리 데이터 베이스
- 디스크가 아닌 주 메모리에 데이터를 보유하고 있는 데이터베이스
- Amazon Elasticache

---

## RDS on EC2
- EC2 위에서 직접 DB 설치 및 운영
- 백업, 패치, 관리 등을 사용자가 직접 수행

## Amazon RDS
- AWS 관리형 관계형 데이터베이스 서비스
- 특징:
    - 하드웨어/패치/백업 관리 자동화
    - SQL 쿼리 기반
    - 용량 자동 확장
    - 자동 백업 및 스냅샷
    - 전송/저장 시 암호화 지원


## Aurora and RDS (DB 생성 실습)
- 예시: 엔진 MariaDB 10.11.14
- 주의 설정:
    - **스토리지 자동 조정 해제**
    - **퍼블릭 액세스: 예**
    - **자동 백업 해제**


## RDS – 읽기 전용 복제본 (Read Replica)
- 읽기 전용 DB 복제본 여러 개 생성 가능
- 장점:
    - 읽기/쓰기 트래픽 분산
    - 리포팅 툴에서 쿼리 성능 향상


## RDS – 다중 AZ (Multi-AZ)
- 데이터 베이스를 여러 가용영역에 배치 하는 것
- 내구성과 가용성을 향상 시킬 수 있음
- 한곳의 DB가 장애 발생하면 다른 곳으로 자동연결 하도록 장애 조치 수행

## Aurora
- AWS 자체 개발 RDS 호환 DB
- 저렴하면서 성능 우수
- 패치, 백업, 설정 등 관리 자동화

## 파라미터 그룹
- DB 한글 설정, 시간대 등 미리 세팅 가능
- 특정 DB와 연결해 일괄 적용 가능

---

## 📝 오늘의 정리
- **AMI**: 동일 환경 서버를 빠르게 복제 가능
- **Instance Store**: 고성능이지만 휘발성 스토리지 → 영구 저장은 EBS/EFS 사용
- **EFS**: 다수의 EC2 또는 온프레미스 서버에서 공유 가능
- **DB 종류**: RDS/Aurora(관계형), DynamoDB(NoSQL), ElastiCache(인메모리)
- **RDS**: 관리형 DB 서비스, 백업·패치 자동화
- **Read Replica**: 읽기 성능 확장
- **Multi-AZ**: 장애 조치 + 가용성 향상
- **Aurora**: AWS의 고성능/저비용 RDS 대안


