# π—“οΈ 2025λ…„ 7μ›” 15μΌ TIL

## π”‘ μ¤λμ ν•µμ‹¬ ν‚¤μ›λ“

* **RESTful API μ„¤κ³„ μ›μΉ™**
* **@RestController / @RequestBody / ResponseEntity**
* **JSON μ”μ²­ λ° μ‘λ‹µ μ²λ¦¬**
* **CORS(Cross-Origin Resource Sharing) κ°λ… λ° μ„¤μ •**
* **ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ vs μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§**
* **JSPμ™€ Thymeleafμ μ—­ν•  λΉ„κµ**
* **Postmanκ³Ό fetchλ¥Ό ν™μ©ν• API ν…μ¤νΈ λ°©λ²•**


## π”— REST API κ°λ°

### β… RESTful μ„λΉ„μ¤λ€?

* **REST**: μμ›μ μƒνƒ(State)λ¥Ό ν‘ν„ν•κ³  μ „μ†΅ν•λ” μ•„ν‚¤ν…μ² μ¤νƒ€μΌ
* **RESTful μ„λΉ„μ¤**: REST μ›μΉ™μ„ λ”°λ¥΄λ” μ›Ή μ„λΉ„μ¤ μ„¤κ³„ λ°©μ‹

### π RESTμ 6κ°€μ§€ μ•„ν‚¤ν…μ² μ›μΉ™

1. **ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κµ¬μ΅°**

    * ν΄λΌμ΄μ–ΈνΈ: UI λ‹΄λ‹Ή
    * μ„λ²„: λ°μ΄ν„° λ° λ΅μ§ μ²λ¦¬
    * μ„λ΅ λ…λ¦½μ μΌλ΅ λ™μ‘

2. **Stateless(λ¬΄μƒνƒμ„±)**

    * μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈ μƒνƒλ¥Ό μ €μ¥ν•μ§€ μ•μ
    * λ§¤ μ”μ²­μ€ λ…λ¦½μ μΌλ΅ μ²λ¦¬

3. **Cacheable(μΊμ‹ κ°€λ¥μ„±)**

    * ν΄λΌμ΄μ–ΈνΈλ” μ‘λ‹µμ„ μΊμ‹ν•΄ μ„±λ¥ ν–¥μƒ κ°€λ¥
    * HTTP ν—¤λ”λ΅ μΊμ‹ κ°€λ¥ μ—¬λ¶€ μ§€μ •

4. **κ³„μΈµν™”λ μ‹μ¤ν…**

    * ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— μ§μ ‘ μ ‘κ·Όν•μ§€ μ•μ
    * μ¤‘κ°„ κ³„μΈµ(ν”„λ΅μ‹, λ΅λ“λ°Έλ°μ„ λ“±)μ„ ν†µν•΄ ν†µμ‹ 

5. **Uniform Interface(μΌκ΄€λ μΈν„°νμ΄μ¤)**

    * URI + HTTP λ©”μ„λ“μ μΌκ΄€λ μ΅°ν•©μΌλ΅ κµ¬μ„±

6. **Code on Demand (μ„ νƒμ‚¬ν•­)**

    * μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ μ‹¤ν–‰ κ°€λ¥ν• μ½”λ“ μ „μ†΅ (μ: JavaScript)

---

### β… RESTful μ„λΉ„μ¤μ μ¥μ 

* **ν™•μ¥μ„±**: ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ λ…λ¦½μ„±μ„ μ μ§€ν•μ—¬ ν™•μ¥μ΄ μ©μ΄
* **μ μ—°μ„±**: λ‹¤μ–‘ν• ν”λ«νΌμ—μ„ ν™μ© κ°€λ¥
* **μ„±λ¥**: μΊμ‹λ¥Ό ν†µν•΄ μµμ ν™”
* **μΌκ΄€μ„±**: ν‘μ¤€ HTTP λ°©μ‹μ„ μ‚¬μ©ν•΄ μ΄ν•΄ν•κΈ° μ‰¬μ›€

---

## π§© RESTful μ”μ²­ μ²λ¦¬

### π“ `@RestController` μ• λ…Έν…μ΄μ…

* `@Controller + @ResponseBody` μ—­ν• 
* λ·° λ°ν™μ΄ μ•„λ‹ **JSON, XML μ‘λ‹µμ„ κΈ°λ³ΈμΌλ΅ μ „μ†΅**
* API μ‘λ‹µ μ „μ© μ»¨νΈλ΅¤λ¬λ΅ ν™μ©

---

### π“ `@RequestBody`λ΅ μ”μ²­ λ°μ΄ν„° μ²λ¦¬

* HTTP μ”μ²­ **Body(JSON λ“±)** β†’ μλ°” κ°μ²΄λ΅ λ§¤ν•‘
* λ‚΄λ¶€μ μΌλ΅ Jackson λΌμ΄λΈλ¬λ¦¬κ°€ JSONμ„ κ°μ²΄λ΅ μλ™ λ³€ν™

#### π” μμ‹ μ½”λ“

```java
@PostMapping
public String join(@RequestBody Member member) {
    member.setUid(UUID.randomUUID().toString());
    memberStore.put(member.getUid(), member);
    return "μƒλ΅μ΄ λ©¤λ²„ μƒμ„± - λ‹‰λ„¤μ„: " + member.getNickname();
}
```

#### π“¬ JSON μ”μ²­ μμ‹ (λΈλΌμ°μ € μ½μ†”)

```javascript
fetch('http://localhost:9000/api/v3-2/members', {
  method: 'POST',
  headers: {'Content-Type': 'application/json'},
  body: JSON.stringify({
    account: 'power1234',
    password: '9944',
    nickname: 'νΈλ‘μ΄'
  })
});
```

#### π›  Postmanμ„ ν†µν• API ν…μ¤νΈ

* μ»¬λ ‰μ… μƒμ„± β†’ request μ¶”κ°€ β†’ HTTP μ”μ²­ λ©”μ„λ“ μ„ νƒ β†’ μ”μ²­ μ „μ†΅

---

## π§Ύ RESTful μ‘λ‹µ μ²λ¦¬

### β… `@ResponseBody`λ΅ JSON μ‘λ‹µ

* μλ°” κ°μ²΄ β†’ JSON μ§λ ¬ν™” β†’ HTTP μ‘λ‹µ λ³Έλ¬Έμ— ν¬ν•¨

### β… μƒνƒ μ½”λ“ μ μ–΄: `ResponseEntity`

* μ „μ²΄ μ‘λ‹µ κµ¬μ΅°λ¥Ό μ μ—°ν•κ² μ μ–΄ (μƒνƒμ½”λ“, ν—¤λ”, λ°”λ””)

#### π” μμ‹ μ½”λ“

```java
@GetMapping
public ResponseEntity<?> list() {
    HttpHeaders headers = new HttpHeaders();
    headers.add("my-pet", "cat");
    headers.add("hobby", "baseball");

    return ResponseEntity
        .ok()
        .headers(headers)
        .body(new ArrayList<>(memberStore.values()));
}
```

> π’΅ μμ™Έ λ°μƒ μ‹:

```java
try {
    String str = null;
    str.charAt(0);
} catch (Exception e) {
    return ResponseEntity
        .internalServerError()
        .body("μ„λ²„μΈ΅ μ—λ¬μ…λ‹λ‹¤");
}
```

* `?` μ λ„¤λ¦­μ€ λ‹¤μ–‘ν• νƒ€μ… (`String`, `List`, λ“±) λ€μ‘
* `HttpHeaders`λ¥Ό ν™μ©ν•΄ μ‘λ‹µμ— λ¶€κ°€ μ •λ³΄ μ „λ‹¬ κ°€λ¥

---

## π CORS μ„¤μ • (κµμ°¨ μ¶μ² μ”μ²­ ν—μ©)

* CORS (Cross-Origin Resource Sharing)

    * λ‹¤λ¥Έ λ„λ©”μΈμ λ¦¬μ†μ¤ μ”μ²­μ„ ν—μ©
    * κΈ°λ³Έμ μΌλ΅ **Same-Origin Policy**λ΅ μΈν•΄ μ°¨λ‹¨λ¨
* μ‹¤λ¬΄μ—μ„λ” λ°±μ—”λ“μ™€ ν”„λ΅ νΈκ°€ λ‹¤λ¥Έ μ„λ²„μ— μκΈ° λ•λ¬Έμ— λ°λ“μ‹ CORS μ„¤μ • ν•„μ”

#### μ „μ—­ CORS μ„¤μ •

* `@Configuration` ν΄λμ¤λ¥Ό ν†µν•΄ API μ ‘κ·Ό κ¶ν• μ μ–΄

---

## π–¥οΈ View κΈ°μ  λΉ„κµ

### β… JSP (Java Server Pages)

* μ¤λλ μ„λ²„μ‚¬μ΄λ“ ν…ν”λ¦Ώ
* Java μ½”λ“μ™€ HTMLμ΄ μ„μ—¬ **μ μ§€λ³΄μ μ–΄λ ¤μ›€**

### β… ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ λ λ”λ§ (CSR)

* **JSλ΅ λ°μ΄ν„° λ°›μ•„ DOMμ„ κ·Έλ¦¬λ” λ°©μ‹**
* μ: λΉ `ul` νƒκ·Έλ¥Ό λ°›μ•„, JSκ°€ λ‚΄λ¶€λ¥Ό μ±„μ›€

### β… μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§ (SSR)

* μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό λ°›μ•„ HTMLμ„ **μ™„μ„±λ μƒνƒλ΅ μ‘λ‹µ**
* μ: Controller β†’ JSP/Thymeleafλ¥Ό ν†µν•΄ ν™”λ©΄ κµ¬μ„±

---

## π§Ύ Thymeleaf

* λ¨λ HTML5 ν…ν”λ¦Ώ μ—”μ§„
* **Spring Bootμ™€ κ°•λ ¥ν• ν†µν•©**
* JSPλ¥Ό λ€μ²΄ν•  μ μμΌλ©°, HTML μ‘μ„±μ— μ ν¨μ„± κ²€μ‚¬λ¥Ό μ‰½κ² μν–‰ κ°€λ¥

> β οΈ μµκ·Ό νΈλ λ“μ—μ„λ” **λ°±μ—”λ“λ” JSONλ§ λ°ν™**,
> **ν”„λ΅ νΈλ” React, Vue λ“±μ΄ λ λ”λ§μ„ λ‹΄λ‹Ή**ν•λ” κµ¬μ΅°κ°€ μ£Όλ¥

---

## π§  μ¤λμ μ •λ¦¬ μ”μ•½

* REST API μ„¤κ³„μ μ›μΉ™κ³Ό μ¥μ  μ΄ν•΄
* `@RestController`, `@RequestBody`, `ResponseEntity` ν™μ©λ²• ν•™μµ
* API ν…μ¤νΈ λ°©λ²• (fetch, Postman)
* CORSμ ν•„μ”μ„±κ³Ό μ„¤μ • λ°©λ²• μ΄ν•΄
* View κΈ°μ  λΉ„κµ: JSP β†” Thymeleaf β†” React κΈ°λ° CSR

