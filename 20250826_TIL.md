# ğŸ—“ï¸ 2025ë…„ 8ì›” 26ì¼ TIL


## ì…ë ¥ì°½ ì´ˆê¸°í™”

input íƒœê·¸ì—ë‹¤ê°€ ê°’ì„ ì…ë ¥í•˜ë©´ -> ìƒíƒœë³€ìˆ˜ì— ì €ì¥ë¨  (ë‹¨ë°©í–¥)
ìƒíƒœë³€ìˆ˜ì˜ ê°’ì„ ë°”ê¾¸ë©´ -> inputì´ ê°±ì‹ ëœë‹¤?  (X)     (ì–‘ë°©í–¥)

form ì œì¶œ ì´ë²¤íŠ¸, ì…ë ¥ì°½ ì´ˆê¸°í™”
```jsx
const handleSubmit = (e) => {
  e.preventDefault();
  setTitle('');
  setPrice(0);
  setDate(null);
};
```

```jsx
<input
  type='date'
  min='2019-01-01'
  max={getTodayDate()}
  onInput={e => setDate(e.target.value)}
  value={date ?? ''}
/>
```
- ??ëŠ” ì™¼ìª½ì´ ë„ì¼ë•Œ ì˜¤ë¥¸ìª½

---

## ê°ì²´ë¡œ ìƒíƒœê°’ì„ í•œë²ˆì— ê´€ë¦¬ 

```jsx
const initUserInputState = {
  title: '',
  price: 0,
  date:null
};

const [userInput, setUserInput] = useState(initUserInputState);
```

form ì œì¶œ ì´ë²¤íŠ¸ì—ì„œëŠ” 

`setUserInput(initUserInputState);`ë¥¼ í•´ì£¼ë©´ ë¨

ê·¼ë° inputì— ì…ë ¥ì„ í•˜ë©´ onInput ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ
setTitle ë“±ìœ¼ë¡œ ìƒíƒœê°’ì„ ë³€ê²½í–ˆì—ˆìŒ.


ê·¸ëŸ¬ë©´ ì´ì œ ê°ê°ì˜ onInput ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ
ê°ì²´ì˜ í”„ë¡œí¼í‹° ê°’ì„ setterë¡œ ë³€ê²½í•´ì£¼ë©´ ë˜ëŠ”ê°€?
```jsx
const titleChangeHandler = e => {
  userInput.title = e.target.value;
  setUserInput(userInput);
};
```
-> ì•„ë‹˜. ë¦¬ì•¡íŠ¸ëŠ” ê¸°ì¡´ê°ì²´ì—ì„œ í”„ë¡œí¼í‹° ê°’ë§Œì„ ë°”ê¾¸ë©´ ìƒíƒœë³€ê²½ì„ ê°ì§€í•˜ì§€ ëª»í•¨

ì•„ì˜ˆ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ì „ë‹¬í•´ì¤˜ì•¼ ë¦¬ì•¡íŠ¸ê°€ ê°ì§€í•˜ê³  ë¦¬ë Œë”ë§ì„ í•¨.

```jsx
const titleChangeHandler = e => {
  const newUserInput = {
    ...userInput,
    title: e.target.value,
  };

  setUserInput(newUserInput);
};
```

---

## ì´ì „ ìƒíƒœê°’ì„ ë°˜ì˜í•˜ì—¬ ìƒíƒœ ì—…ë°ì´íŠ¸í•˜ê¸°

ë¦¬ì•¡íŠ¸ì˜ ë¹„ë™ê¸° ì²˜ë¦¬
- Reactì˜ ìƒíƒœ ì—…ë°ì´íŠ¸ëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ì´ë£¨ì–´ì§
- ì—¬ëŸ¬ ìƒíƒœ ì—…ë°ì´íŠ¸ê°€ ë™ì‹œì— ì¼ì–´ë‚˜ë©´ ì´ì „ ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ”
  ì—…ë°ì´íŠ¸ê°€ ì˜¬ë°”ë¥´ê²Œ ë°˜ì˜ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ
```jsx
const increaseHandler = () => {
  setCount(count + 1);
  setCount(count + 1);
}
```
- ìœ„ì˜ ë‘ê°œì˜ setCountëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬ë˜ë¯€ë¡œ
  ì—…ë°ì´íŠ¸ê°€ ì˜¬ë°”ë¥´ê²Œ ë°˜ì˜ë˜ì§€ ì•ŠìŒ

```jsx
const increaseHandler = () => {
  setCount(prev => prev + 1);
  setCount(prev => prev + 1);
}
```
- ìœ„ì˜ setCountëŠ” countì˜ ì´ì „ ê°’ì„ ê°€ì ¸ì™€ì„œ ë”í•´ì£¼ê¸° ë•Œë¬¸ì—
  í™•ì‹¤í•˜ê²Œ ë°˜ì˜ë¨.


```jsx
const priceChangeHandler = e => setUserInput(prev => ({
  ...prev,
  price: +e.target.value,
}));
```
- ...prev â†’ ê¸°ì¡´ ê°ì²´ ìƒíƒœë¥¼ ì „ë¶€ í¼ì³ì„œ ë³µì‚¬(spread)
- price: +e.target.value â†’ priceë§Œ ìƒˆ ê°’ìœ¼ë¡œ êµì²´.

---

## ìƒí–¥ì‹ ë°ì´í„° ì „ë‹¬

- í¼ì— ë°ì´í„°ë¥¼ ì…ë ¥í•˜ë©´ ë¶€ëª¨ìª½ì—ì„œ ê·¸ ë°ì´í„°ë¥¼ ì´ìš©í•´ì„œ ëª©ë¡ì„ ì¶”ê°€ í•´ì¤˜ì•¼í•¨.
- ë°”êµ¬ë‹ˆì²˜ëŸ¼ ë¶€ëª¨ê°€ í•¨ìˆ˜ë¥¼ ë‚´ë ¤ì£¼ë©´, ìì‹ìª½ì—ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ë‹´ì•„ í•¨ìˆ˜ë¥¼ ì‹¤í–‰

1. ë¶€ëª¨ì—ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ í˜¸ì¶œ
```jsx
<ExpenseFilter onChangeFilter={onFilterChange} />
```

2. ìì‹ì´ íŒŒë¼ë¯¸í„°ë¥¼ ë‹´ì•„ì„œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰
```jsx
const changeYearHandler = e => {
  onChangeFilter(e.target.value);
};
return (
    <select onChange={changeYearHandler}>
      <option value='2025'>2025</option>
      <option value='2024'>2024</option>
      <option value='2023'>2023</option>
      <option value='2022'>2022</option>
      <option value='2021'>2021</option>
      <option value='2020'>2020</option>
      <option value='2019'>2019</option>
    </select>
);
```

3. ë¶€ëª¨ì˜ onFilterChange í•¨ìˆ˜ê°€ ì‹¤í–‰ë¨
```jsx
const onFilterChange = (filteredYear) => {
  console.log(`ì„ íƒëœ ì—°ë„: ${filteredYear}`);
  setYear(filteredYear);
};
```

---

## ë™ì  ë¦¬ìŠ¤íŠ¸ ë Œë”ë§

```jsx
{expenseList
    .filter(ex => ex.date.getFullYear().toString() === year)
    .map(ex => <ExpenseItem expense={ex} />)}
```
- `ExpenseItem` ì»´í¬ë„ŒíŠ¸ëŠ” expenseList ë°°ì—´ì˜ ê° í•­ëª©ì— ëŒ€í•´ ìƒì„±ë¨.
- `filter`, `map` í•¨ìˆ˜ëŠ” ë°°ì—´ì˜ ê° ìš”ì†Œì— ì½œë°± í•¨ìˆ˜ë¥¼ ì‹¤í–‰, ìƒˆë¡œìš´ ë°°ì—´ ë°˜í™˜
- ê²°ê³¼ì ìœ¼ë¡œ ê° ìš”ì†Œì— ëŒ€í•´ `ExpenseItem` ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜
- `expense={ex}`: prop ì „ë‹¬


### key prop
- ê° í•­ëª©ì„ ì‹ë³„í•˜ê¸° ìœ„í•´ `key` propì„ ì‚¬ìš©
- `key`ëŠ” ê° í•­ëª©ì´ êµ¬ë³„ë˜ë„ë¡ ê³ ìœ í•œ ê°’ì„ ê°€ì ¸ì•¼ í•¨.
- `key`ê°€ ì—†ìœ¼ë©´ ReactëŠ” ëª¨ë“  í•­ëª©ì„ ì²˜ìŒë¶€í„° ë Œë”ë§ í•´ì•¼ í•  ìˆ˜ ìˆìŒ.
```jsx
.map(ex => <ExpenseItem key={Math.random().toString()} expense={ex} />)
```

---

## ì¡°ê±´ë¶€ ë Œë”ë§

- íŠ¹ì • ì¡°ê±´ì— ë”°ë¼ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” íŒ¨í„´

```jsx
// í•´ë‹¹ë…„ë„ ì§€ì¶œí•­ëª©ë“¤ì„ í•„í„°ë§
const filteredExpenses = expenseList
    .filter(ex => ex.date.getFullYear().toString() === year);

{
  filteredExpenses.length > 0
      ? filteredExpenses
          .map(ex => <ExpenseItem key={Math.random().toString()} expense={ex} />)
      : <p>ì•„ì§ í•´ë‹¹ë…„ë„ì˜ ì§€ì¶œí•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.</p>
}
```
- `expenseList`ë¥¼ ë¯¸ë¦¬ ì—°ë„ë¡œ í•„í„°ë§
- `filteredExpenses` ë°°ì—´ì´ ë¹„ì–´ìˆì§€ ì•Šìœ¼ë©´ -> ë¦¬ìŠ¤íŠ¸(ExpenseItem)ë¥¼ ë Œë”ë§
- `filteredExpenses` ë°°ì—´ì´ ë¹„ì–´ìˆìœ¼ë©´ -> `<p>` íƒœê·¸ ë¬¸êµ¬ë¥¼ ë Œë”ë§

---

## ì°¨íŠ¸ UI

1. `ExpenseList` ì»´í¬ë„ŒíŠ¸ì—ì„œ `ExpenseChart`ë¥¼ ë Œë”ë§
- `expenseList`ë¥¼ ì—°ë„ë¡œ í•„í„°ë§í•œ ê²°ê³¼ë¥¼ `expenses` propìœ¼ë¡œ ì „ë‹¬
```jsx
<ExpenseChart expenses={filteredExpenses} />
```


2. `ExpenseChart` ì»´í¬ë„ŒíŠ¸ì—ì„œ `Chart`ë¥¼ ë Œë”ë§
- í•„í„°ë§ëœ ì§€ì¶œ ë°°ì—´ì„ í†µí•´ chartDataPointsì˜ valueë“¤ì„ ì±„ìš°ê¸°
```jsx
expenses.forEach(ex => {
  chartDataPoints[ex.date.getMonth()].value += ex.price;
});
```

- `value`ê°€ ë³€ê²½ëœ `chartDataPoints`ë¥¼ `dataPoints` propìœ¼ë¡œ ì „ë‹¬
```jsx
<Chart dataPoints={chartDataPoints} />
```

3. `Chart` ì»´í¬ë„ŒíŠ¸ì—ì„œ `ChartBar`ë¥¼ ë Œë”ë§
- `reduce` í•¨ìˆ˜ë¥¼ í†µí•´ `dataPoints`ì˜ valueë¥¼ ëª¨ë‘ ë”í•¨ -> `totalValue`
```jsx
const totalValue = dataPoints.reduce((acc, dp) => acc + dp.value, 0);
```

- `key`, `label`, í˜„ì¬ ë‹¬ì˜ value, `totalValue`ë¥¼ propìœ¼ë¡œ ì „ë‹¬
```jsx
dataPoints.map(dp => <ChartBar
    key={dp.label}
    label={dp.label}
    currentMonthValue={dp.value}
    totalValue={totalValue}
/>)
```

4. `ChartBar`ì—ì„œ UIë¥¼ ë Œë”ë§
- ì›”ë³„ ì§€ì¶•ì•¡ ë¹„ìœ¨ êµ¬í•˜ê¸°: í•´ë‹¹ì›”ì˜ ì§€ì¶œì•¡ / í•´ë‹¹ë…„ë„ì˜ ì´ì§€ì¶œì•¡
```jsx
let barFillHeight = '0%';

if (totalValue > 0) {
  const percentage = (currentMonthValue / totalValue) * 100;
  barFillHeight = percentage + '%';
}
```

- `barFillHeight`ë¥¼ í†µí•´ ë§‰ëŒ€ ê·¸ë˜í”„ heightë¥¼ ë³€ê²½
```jsx
<div className='chart-bar__fill' style={{height: barFillHeight}}></div>
```

