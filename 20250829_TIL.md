# ğŸ—“ï¸ 2025ë…„ 8ì›” 29ì¼ TIL

## ğŸ—ï¸ ì˜¤ëŠ˜ì˜ í‚¤ì›Œë“œ

* React Router
* SPA (Single Page Application)
* createBrowserRouter
* Link & NavLink
* errorElement & useRouteError
* URL íŒŒë¼ë¯¸í„° (`useParams`)
* ê²€ìƒ‰ ì¿¼ë¦¬ (`useSearchParams`)
* ì¤‘ì²© ë¼ìš°íŒ… (Nested Routes)

---

## React Router
- ë‹¨ì¼ í˜ì´ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜(SPA)
- ì‹¤ì œë¡œ í˜ì´ì§€ë¥¼ ìƒˆë¡œ ë°›ì•„ì˜¤ì§€ ì•ŠìŒ
- ë§ˆì¹˜ í˜ì´ì§€ê°€ ë°”ë€ŒëŠ” ê²ƒì²˜ëŸ¼ ë³´ì—¬ì¤Œ
- ë•ë¶„ì— ì›¹ì‚¬ì´íŠ¸ê°€ ë” ë¹ ë¥´ê³  ë¶€ë“œëŸ½ê²Œ ë™ì‘

---

## ìƒˆë¡œìš´ ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ ìƒì„±

## ëª…ë ¹ í”„ë¡¬í”„íŠ¸
1. nodejs ì„¤ì¹˜
2. `npm create vite@latest í”„ë¡œì íŠ¸í´ë”ëª…`
    - proceed(y) -> React -> Javascript ì„ íƒ
3. `cd í”„ë¡œì íŠ¸í´ë”ëª…` -> `npm install` -> `npm run dev`

## ì¸í…”ë¦¬ì œì´ `ìœ ë£Œ`
- ìƒˆ í”„ë¡œì íŠ¸
- ì œë„ˆë ˆì´í„° Vite ì„ íƒ
- ì´ë¦„: react-router202508
- í…œí”Œë¦¿: react

## ê¹ƒí—ˆë¸Œì—ì„œ í´ë¡ í•œ ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ì¸ ê²½ìš°
1. `git clone`
2. `npm intall` <- ìµœì´ˆ 1ë²ˆ
3. `npm run dev` <- í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ ì‹¤í–‰ (ì„œë²„ì¼¤ ë•Œë§ˆë‹¤ ì‹¤í–‰)

- ì„œë²„ ëŒë•ŒëŠ” í„°ë¯¸ë„ì—ì„œ Ctrl + C, Ctrl + Z

## React Router
```shell
npm install react-router-dom
```

## scss
```shell
npm install sass
```

---

## ë¼ìš°í„° ë§Œë“œëŠ” ë°©ë²•

### 1. í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ìƒì„±
```jsx
// Home.jsx
function Home() {
  return <h1>í™˜ì˜í•©ë‹ˆë‹¤!</h1>
}

// About.jsx
function About() {
  return <h1>íšŒì‚¬ ì†Œê°œì…ë‹ˆë‹¤</h1>
}
```

### 2. ë¼ìš°í„° ì„¤ì •
```jsx
// router-config.jsx
export const router = createBrowserRouter([
  {
    path: '/',
    element: <Home />
  },
  {
    path: '/about',
    element: <About />
  }
]);
```

### 3. ë¼ìš°í„°ë¥¼ ì ìš©
```jsx
// App.jsx
const App = () => {
  return <RouterProvider router={router} />
};
```

### 4. í˜ì´ì§€ ì´ë™
- ì¼ë°˜ HTMLì—ì„œëŠ” `<a>` íƒœê·¸ë¥¼ ì‚¬ìš©
- React Routerì—ì„œëŠ” `<Link>` ì‚¬ìš©
- ìƒˆë¡œê³ ì¹¨ì´ ë°œìƒí•˜ì§€ ì•ŠìŒ

```jsx
const MainNav = () => {
  return (
    <nav className={nav}>
      <Link to="/">Home</Link>
      <Link to="/blog">Blog</Link>
      <Link to="/about">About</Link>
    </nav>
  );
};
```

---

## createBrowserRouter
- ì›¹ì‚¬ì´íŠ¸ì˜ ê° ì£¼ì†Œê°€ ì–´ë–¤ ë‚´ìš©ì„ ë³´ì—¬ì¤„ì§€ ë¯¸ë¦¬ ì •í•¨

### ê¸°ë³¸ êµ¬ì¡°
```jsx
const router = createBrowserRouter([
  {
    path: '/',
    element: <RootLayout />,
    errorElement: <ErrorPage />,
    children: [
      {
        // path: '',
        index: true,
        element: <IndexPage />
      },
      {
        path: 'blog',
        element: <BlogPage />
      }
    ]
  },
]);
```
- path: ì£¼ì†Œ
- element: ë³´ì—¬ì¤„ ë‚´ìš©
- errorElement: custom error page ì„¤ì •
- children: Layoutì˜ Outlet ë¶€ë¶„ì„ ë­˜ë¡œ ë°”ê¿€ì§€ë¥¼ ì„¤ì •
---

## ë ˆì´ì•„ì›ƒ
- ê³µí†µ ìš”ì†Œë¥¼ í•œ ë²ˆë§Œ ì‘ì„±
- Outletì—ëŠ” `children`ì—ì„œ ì •ì˜ëœ ê° í˜ì´ì§€ë§ˆë‹¤ ë‹¤ë¥¸ ë¶€ë¶„ì´ ë“¤ì–´ê°
- ë¼ìš°í„°ì— ì—¬ëŸ¬ ê°œì˜ ë ˆì´ì•„ì›ƒì„ ì¸µë³„ êµ¬ì¡°ë¡œ ê²¹ì³ì„œ ì‚¬ìš© ê°€ëŠ¥

### ë ˆì´ì•„ì›ƒ ê¸°ë³¸ êµ¬ì¡°
```jsx
// RootLayout.jsx
function RootLayout() {
  return (
    <div>
      <header>
        <nav>{/* ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ */}</nav>
      </header>

      <main>
        {/* ì‹¤ì œë¡œ ë°”ë€ŒëŠ” ë™ì ì¸ ë¶€ë¶„ */}
        <Outlet />
      </main>

      <footer>
        {/* í‘¸í„° ë‚´ìš© */}
      </footer>
    </div>
  );
}
```

---

## NavLink
- `Link`ì˜ íŠ¹ë³„í•œ ë²„ì „. ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ë¥¼ ë§Œë“¤ ë•Œ ì£¼ë¡œ ì‚¬ìš©
- í˜„ì¬ URLê³¼ NavLinkì˜ `to`ê°€ ë§¤ì¹­ë˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ìë™ìœ¼ë¡œ íŒë‹¨
- `className`/`style` propì— í•¨ìˆ˜ë¥¼ ë„˜ê¸°ë©´, ê±°ê¸°ë‹¤ ê°ì²´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë„£ì–´ì¤Œ
- ê·¸ ê°ì²´ì—ëŠ” `isActive`, `isPending`ì´ boolean íƒ€ì…ìœ¼ë¡œ ìˆìŒ

ì˜ˆì‹œ)
```jsx
<NavLink to="/" className={activate}>Home</NavLink>
<NavLink to="/blog" className={activate}>Blog</NavLink>
<NavLink to="/about" className={activate}>About</NavLink>
```

### isActive
- í˜„ì¬ URLì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ NavLinkì˜ toì™€ ë§¤ì¹­ë˜ë©´ true
- ìŠ¤íƒ€ì¼, í´ë˜ìŠ¤ë¥¼ ë™ì ìœ¼ë¡œ ì ìš© ê°€ëŠ¥
```jsx
const activate = ({ isActive }) => {
  return `${navLink} ${isActive ? active : ''}`;
};
```

---

## ì—ëŸ¬ í˜ì´ì§€ ì²˜ë¦¬ (errorElement)
- ë¼ìš°í„°ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë•Œ ë³´ì—¬ì¤„ í˜ì´ì§€ë¥¼ ì§€ì •í•˜ëŠ” ì†ì„±
- ì¸µë³„ êµ¬ì¡°ì˜ ë ˆì´ì•„ì›ƒì¼ ë–„ëŠ” ê°€ì¥ ê°€ê¹Œìš´ errorElementë¥¼ ì°¾ì•„ ì˜¬ë¼ê°

ì˜ˆì‹œ) ë¼ìš°í„° errorElement ì†ì„±
```jsx
// custom error page ì„¤ì •
errorElement: <ErrorPage />
```
- ì˜ëª»ëœ URL ì ‘ê·¼ì´ë‚˜ ì—ëŸ¬ë¥¼ throw í–ˆì„ ê²½ìš°
- ì„¤ì •ëœ error pageë¡œ ì´ë™í•¨.

ì˜ˆì‹œ) ì—ëŸ¬ throw
```jsx
throw new Error('ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
throw new Response("Not Found", { status: 404 });
```

### ì—ëŸ¬ ì •ë³´ í™œìš© (useRouteError())
- ì—ëŸ¬ê°€ ë°œìƒí•˜ì—¬ ë¯¸ë¦¬ ì§€ì •ëœ í˜ì´ì§€ë¡œ ì´ë™í–ˆì„ë•Œ,
- useRouteErrorë¥¼ í†µí•´ ì–´ë–¤ ì—ëŸ¬ê°€ ë°œìƒí–ˆëŠ”ì§€ í™•ì¸ ê°€ëŠ¥

```jsx
import { useRouteError } from 'react-router-dom';

function ErrorPage() {
  const error = useRouteError();  

  return (
    <div>
      <h1>ì•—! ë¬¸ì œê°€ ë°œìƒí–ˆì–´ìš”</h1>
      <p>
        {
          error.status === 404
            ? 'í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.'
            : error.message
        }
      </p>
      <Link to="/">í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</Link>
    </div>
  );
}
```

---
## ë™ì  ë¼ìš°íŒ…

### URL íŒŒë¼ë¯¸í„°
- í•˜ë‚˜ì˜ ì œí’ˆ ìƒì„¸ í˜ì´ì§€ì— IDë§Œ ë°”ê¿”ê°€ë©° ë‹¤ë¥¸ ë‚´ìš© ë³´ì—¬ì¤Œ
- `/posts`: ì „ì²´ ê²Œì‹œê¸€ ëª©ë¡
- `/posts/123`: 123ë²ˆ ê²Œì‹œê¸€

---

### URL íŒŒë¼ë¯¸í„° ì„¤ì • ë°©ë²•
```jsx
const router = createBrowserRouter([
  {
    path: '/',
    element: <RootLayout />,
    children: [
      { path: '/', element: <HomePage /> },
      { path: '/blog', element: <BlogList /> },
      // URL íŒŒë¼ë¯¸í„° ì„¤ì •
      { path: '/blog/:postId', element: <BlogPost /> }
    ]
  }
]);
```
`:postId`ê°€ URL íŒŒë¼ë¯¸í„°
- `:` ê¸°í˜¸ë¡œ ì‹œì‘í•˜ëŠ” ë¶€ë¶„ì´ íŒŒë¼ë¯¸í„°

---

### í˜ì´ì§€ ì´ë™ ì˜ˆì‹œ
```jsx
const PostCard = ({ post }) => {
  return (
    <Link
      to={`/blog/${post.id}`}
      className={styles.cardLink}>
      <div className={styles.card}>
        {/* ë‚´ìš©... */}
      </div>
    </Link>
  );
};
```
- ê²Œì‹œë¬¼ ëª©ë¡ì—ì„œ ì¹´ë“œ í˜•íƒœì˜ ê²Œì‹œë¬¼ì„ í´ë¦­í•˜ë©´,
- `/blog/${post.id}`ë¡œ ì´ë™í•˜ê²Œë” Link ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©

---

### URL íŒŒë¼ë¯¸í„° ì½ê¸° (useParams)
```jsx
const BlogPostDetailPage = () => {

  // í˜„ì¬ ë¼ìš°íŒ…ëœ postIdë¥¼ urlë¡œë¶€í„° ì½ì–´ë‚´ëŠ” ë²•
  const {postId} = useParams();
  
  // í•´ë‹¹ IDë¡œ ì„œë²„ì— ìƒì„¸ì¡°íšŒ ìš”ì²­
  // ì§€ê¸ˆì€ ì„œë²„ x, ë”ë¯¸ë°ì´í„°ì—ì„œ íŠ¹ì • ë¸”ë¡œê·¸ ê¸€ íƒìƒ‰
  const foundPost = posts.find(post => post.id === +postId);
  
  return (
    <article>
      {/*...*/}
    </article>
  );
};
```
- `useParams()` í›…ì„ ì“°ë©´, ë¼ìš°íŠ¸ pathì—ì„œ `:íŒŒë¼ë¯¸í„°ëª…` ë¶€ë¶„ì´ í‚¤ê°€ ë˜ì–´ ê°ì²´ë¡œ ë°˜í™˜
- ê°’ì€ í•­ìƒ ë¬¸ìì—´ â†’ ìˆ«ì ë¹„êµ ì‹œì—” +postIdì²˜ëŸ¼ ë³€í™˜ í•„ìš”
- ì—†ëŠ” ê²Œì‹œê¸€ì¼ ê²½ìš°ì—” ì—ëŸ¬ throwë¥¼ í†µí•´ ì—ëŸ¬ í˜ì´ì§€ë¡œ ë³´ë‚¼ ìˆ˜ ìˆìŒ

---

## ê²€ìƒ‰ ì¿¼ë¦¬ ë‹¤ë£¨ê¸° (`useSearchParams`)
- ? ë’¤ì— ë¶™ëŠ” ì¿¼ë¦¬ìŠ¤íŠ¸ë§ ì½ëŠ”ë²•
- useSearchParamsëŠ” ë°°ì—´ì„ ë¦¬í„´í•˜ëŠ”ë°
- 0ë²ˆ ì¸ë±ìŠ¤: ì¿¼ë¦¬ìŠ¤íŠ¸ë§ë“¤ì„ ëª¨ì•„ë†“ì€ ê°ì²´
- 1ë²ˆ ì¸ë±ìŠ¤: ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì„ ìƒì„±í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ë¦¬í„´

### ê¸°ë³¸ ì‚¬ìš©ë²•
```jsx
function ProductList() {
  const [searchParams, setSearchParams] = useSearchParams();

  // ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì½ê¸°
  const category = searchParams.get('category');
  const minPrice = searchParams.get('minPrice');
}
```

### ì£¼ìš” ë©”ì„œë“œ
#### 1. ê°’ ê°€ì ¸ì˜¤ê¸°
```jsx
// ë‹¨ì¼ ê°’ ê°€ì ¸ì˜¤ê¸°
searchParams.get('category') || 'all';  // 'react'

// ì—¬ëŸ¬ ê°’ ê°€ì ¸ì˜¤ê¸° (ì²´í¬ë°•ìŠ¤ ë“±)
searchParams.getAll('colors');  // ['red', 'blue']

// ì¡´ì¬ ì—¬ë¶€ í™•ì¸
searchParams.has('category');  // true/false
```
- `get`ì€ ê°’ì´ ë“¤ì–´ì˜¤ì§€ ì•Šìœ¼ë©´ nullì´ ë“¤ì–´ì˜´, ê¸°ë³¸ê°’ ì„¤ì • ê¶Œì¥

---

#### 2. ê°’ ì„¤ì •í•˜ê¸°
ì˜µì…˜ ì„ íƒ íƒœê·¸
```jsx
<select
  onChange={handleCategoryChange}
  value={searchParams.get('category') || 'all'}
>
  {/* optionë“¤ ... */}
</select>
```
- valueë¥¼ searchParamsì—ì„œ êº¼ë‚¸ ê°’ì„ ê°€ì ¸ì™€ì„œ ìƒˆë¡œê³ ì¹¨í•´ë„
- ì„ íƒëœ optionê³¼ ? ë’¤ì— ë¶™ëŠ” ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì´ ë™ì¼í•˜ë„ë¡ ì„¤ì •

ì¹´í…Œê³ ë¦¬ ì˜µì…˜ ì„ íƒ ì´ë²¤íŠ¸
```jsx
const handleCategoryChange = e => {
  // ì¿¼ë¦¬ìŠ¤íŠ¸ë§ìœ¼ë¡œ ?category=xxx
  setSearchParams(prev => {
    prev.set('category', e.target.value);
    return prev;
  });
};
```
- ê¸°ì¡´ ì¿¼ë¦¬(ì˜¤ë˜ëœ ìˆœì„œ ì •ë ¬)ì— categoryë¥¼ ì¶”ê°€

---

## ì¤‘ì²© ë¼ìš°íŒ… ì‹¬í™”
- í•˜ë‚˜ì˜ í˜ì´ì§€ ì•ˆì— ì—¬ëŸ¬ í•˜ìœ„ í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ì‹

### ì¤‘ì²© ë¼ìš°íŒ…ì˜ êµ¬ì¡°
1\. ê¸°ë³¸ êµ¬ì¡°
```jsx
const router = createBrowserRouter([
  {
    path: '/',
    element: <RootLayout />,
    children: [
      {
        path: 'products',
        element: <ProductsLayout />,
        children: [
          { index: true, element: <ProductsList /> },
          { path: ':id', element: <ProductDetail /> }
        ]
      }
    ]
  }
]);
```

2\. ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
```jsx
function ProductsLayout() {
  return (
    <div>
      <nav>ìƒí’ˆ ì¹´í…Œê³ ë¦¬ ë©”ë‰´</nav>
      <Outlet /> {/* í•˜ìœ„ ë¼ìš°íŠ¸ê°€ ì—¬ê¸°ì— ë Œë”ë§ë¨ */}
    </div>
  );
}
```

---

## ğŸ“Œ ì˜¤ëŠ˜ì˜ ìš”ì•½

* **SPA ë„¤ë¹„ê²Œì´ì…˜**: React Routerë¡œ ìƒˆë¡œê³ ì¹¨ ì—†ëŠ” í™”ë©´ ì „í™˜ êµ¬í˜„
* **ë¼ìš°íŠ¸ ì •ì˜**: `createBrowserRouter`ë¡œ ê²½ë¡œì™€ ì»´í¬ë„ŒíŠ¸ ë§¤í•‘
* **ë§í¬ ì»´í¬ë„ŒíŠ¸**: `<Link>`, `<NavLink>`ë¡œ ì‚¬ìš©ì ì´ë™ ì œì–´
* **ì—ëŸ¬ ì²˜ë¦¬**: `errorElement` + `useRouteError`ë¡œ ê³µí†µ ì—ëŸ¬ í˜ì´ì§€ ì œê³µ
* **ë™ì  ë¼ìš°íŒ…**: `:postId` ê°™ì€ íŒŒë¼ë¯¸í„°ë¥¼ `useParams`ë¡œ ì½ì–´ì˜¤ê¸°
* **ê²€ìƒ‰/í•„í„°ë§**: `useSearchParams`ë¡œ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ ë‹¤ë£¨ê¸°
* **ì¤‘ì²© ë¼ìš°íŒ…**: ê³µí†µ ë ˆì´ì•„ì›ƒê³¼ í•˜ìœ„ í˜ì´ì§€ë¥¼ ê³„ì¸µì ìœ¼ë¡œ êµ¬ì„±

