# ğŸ—“ï¸ 2025ë…„ 7ì›” 25ì¼


MyBatis
ì£¼ìš” íŠ¹ì§•
1. SQLê³¼ ìë°” ì½”ë“œì˜ ë¶„ë¦¬
- SQLì„ ë³„ë„ì˜ XML íŒŒì¼ì— ì‘ì„±
2. ìë™ ê°ì²´ ë§¤í•‘
- ResultSetì„ ìë°” ê°ì²´ë¡œ ìë™ ë³€í™˜
3. ë™ì  SQL ì§€ì›
- ì¡°ê±´ì— ë”°ë¼ SQLì´ ë³€í•˜ëŠ” ìƒí™©ì„ ì‰½ê²Œ ì²˜ë¦¬

ì„¤ì • ë°©ë²•
1. ì˜ì¡´ì„± ì¶”ê°€
build.gradle íŒŒì¼
```text
dependencies {
    implementation 'org.mybatis.spring.boot:mybatis-spring-boot-starter:3.0.3'
}
```
2. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì„¤ì •
application.yml íŒŒì¼
```text
spring:
  application:
    name: spring-db202507
  datasource:
    url: jdbc:mariadb://localhost:3306/spring_study
    username: root
    password: mariadb

# MyBatis Setting
mybatis:
  # SQL file location
  mapper-locations: classpath:mappers/**/*.xml
  configuration:
    map-underscore-to-camel-case: true
  type-aliases-package: com.spring.database
  
```

3. SQL í…Œì´ë¸” ìƒì„±
```sql
CREATE TABLE tbl_pet (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    pet_name VARCHAR(50),
    pet_age INT,
    injection BOOLEAN
) CHARSET=utf8mb4;
```

4. ì—”í‹°í‹° ìƒì„±
- ìƒì„±í•œ SQL í…Œì´ë¸”ì˜ ì†ì„±ê³¼ ë™ì¼í•œ í•„ë“œë¥¼ ê°–ê²Œë” ë§Œë“¤ìŒ
```java
public class Pet {
    private Long id;
    private String petName;
    private int petAge;
    private boolean injection;
}
```


5. Mapper ì¸í„°í˜ì´ìŠ¤ ì‘ì„±
```java
// CRUDë¥¼ ëª…ì„¸
@Mapper
public interface PetMapper {
    // CREATE
    boolean save(Pet pet);
    // READ - SINGLE MATCHING
    Pet findById(Long id);
    // ë‚˜ë¨¸ì§€ ê¸°ëŠ¥ ...
}
```
@Mapper ì–´ë…¸í…Œì´ì…˜: ìŠ¤í”„ë§ì— ë¹ˆ ìë™ ë“±ë¡, êµ¬í˜„ì²´ë¥¼ MyBatisê°€ ì§ì ‘ ë§Œë“¤ì–´ì¤Œ
jdbc ì‚¬ìš©í•  ë•ŒëŠ” êµ¬í˜„ì²´(í´ë˜ìŠ¤)ë¥¼ ì§ì ‘ ë§Œë“¤ì–´ì•¼ í–ˆìŒ

6. XML ë§¤í¼ íŒŒì¼ ì‘ì„±

íŒ! MyBatis Mapper XML íŒŒì¼ ê¸°ë³¸ ì„¤ì •
```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.mybatis.example.BlogMapper">
  <select id="selectBlog" resultType="Blog">
    select * from Blog where id = #{id}
  </select>
</mapper>
```
- ì„¤ì • íŒŒì¼ì—ì„œ mapper-locations: classpath:mappers/**/*.xml
- ê·¸ëŸ¬ë¯€ë¡œ resources/mappers í´ë” ë‚´ë¶€ì— xml íŒŒì¼ì„ ìƒì„±í•´ì•¼ í•¨.
- mapper íƒœê·¸ì˜ namespaceì—ëŠ” ì—°ê²°í•  ì¸í„°í˜ì´ìŠ¤ì˜ í’€ë„¤ì„(íŒ¨í‚¤ì§€ëª…+í´ë˜ìŠ¤ëª…)ì„ ì‘ì„±



### ì£¼ìš” SQL ìš”ì†Œ ì•Œì•„ë³´ê¸°
- id: ì—°ê²°ëœ ì¸í„°í˜ì´ìŠ¤ì˜ ì¶”ìƒë©”ì„œë“œ ì´ë¦„ì„ ì •í™•í•˜ê²Œ ì ìŒ
- ë§ˆì´ë°”í‹°ìŠ¤ì˜ sql ë¬¸ë²•ì—ì„œ `;` ì“°ë©´ ì•ˆëœë‹¤.

INSERT ë¬¸
```xml
<insert id="save">
    INSERT INTO tbl_pet
    (pet_name, pet_age, injection)
    VALUES
    (#{petName}, #{petAge}, #{injection})
</insert>
```


SELECT ë¬¸
```xml
<select id="findById" resultType="com.spring.database.chap03.entity.Pet">
    SELECT *
    FROM tbl_pet
    WHERE id = #{id}
</select>
```
- resultType : ê²°ê³¼ í…Œì´ë¸”ì„ ì–´ë–¤ ìë°” ê°ì²´ì— ì—°ê²°í• ê±´ì§€
- ì„¤ì • íŒŒì¼ì—ì„œ type-aliases-package: com.spring.databaseì„ í•´ì¤¬ìŒ
- í”„ë¡œì íŠ¸ íŒŒì¼ ë‚´ì—ì„œ ë°˜í™˜í•  ì—”í‹°í‹°ê°€ ìœ ì¼(ì´ë¦„ ì•ˆê²¹ì¹¨)í•˜ë©´ `Pet`ìœ¼ë¡œ ì¨ì¤„ ìˆ˜ ìˆìŒ
- ë§ˆì´ë°”í‹°ìŠ¤ëŠ” ë‹¨ì¼ì¡°íšŒë©´ ë‹¨ì¼ìœ¼ë¡œ ë‚˜ì˜¤ê³ 
- ì—¬ëŸ¬ê°œ ì¡°íšŒë©´ ë¦¬ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ ë‚˜ì˜´










