# 🗓️ 2025년 11월 4일 TIL - c언어

## 📌 오늘의 키워드

`문자열(String)` `널 문자('\0')` `scanf()` `strlen()` `문자열 복사` `버퍼 오버플로우`

---

## 문자열의 개념

### 개념 정리

* 문자열은 **문자들의 연속된 배열(char[])** 로 저장됨
* 문자열의 끝에는 반드시 **널 문자(`'\0'`)** 가 포함되어 있어야 함
* 큰따옴표로 묶으면 자동으로 `'\0'`이 추가되고, 작은따옴표 배열로 선언하면 직접 넣어야 함

### 예시 코드

```c
char str1[] = "Hello";                    // 자동으로 '\0' 추가됨
char str2[] = {'H', 'e', 'l', 'l', 'o', '\0'};  // 수동으로 추가

printf("str1: %s\n", str1);
printf("str2: %s\n", str2);
```

### 포인트

* `%s` 서식 지정자는 문자열 출력용
* `sizeof()`는 **널 문자까지 포함한 전체 크기**를 반환함
* 문자열을 구성할 때 `'\0'` 누락은 **버그의 주요 원인**이 됨

---

## 문자열 입력 (`scanf()`)

### 개념 정리

* `scanf("%s", 문자열변수);` 형식으로 문자열을 입력받을 수 있음
* 단, 문자열 입력 시에는 **주소연산자(&)** 를 쓰지 않음
* `scanf`는 공백을 만나면 입력을 종료함 → “강관 주” 입력 시 `강관`까지만 저장됨

### 예시 코드

```c
char userName[20];
printf("당신의 이름은 ?? ");
scanf("%s", userName);
printf("당신은 %s님이시군요!\n", userName);
```

### 포인트

* 배열 크기보다 긴 문자열을 입력하면 **버퍼 오버플로우** 발생 위험 있음
* 공백이 포함된 문장을 입력받으려면 `fgets()` 사용 고려

---

## 문자열 길이 확인 원리 (`strlen()`의 원리)

### 개념 정리

* 문자열의 길이는 `'\0'`이 나오기 전까지 문자 개수를 세어 구함
* `strlen()` 함수 없이도 while문으로 직접 구현 가능

### 예시 코드

```c
char fruit[] = {'a', 'p', 'p', 'l', 'e', '\0'};
int i = 0, count = 0;

while (fruit[i] != '\0') {
    printf("%c", fruit[i]);
    i++;
    count++;
}
printf("\n단어 %s의 길이는 %d입니다.\n", fruit, count);
```

### 포인트

* `'\0'`은 문자열 종료를 알려주는 **센티넬(종료 조건)** 역할
* `while` 반복문으로 문자열의 끝을 직접 탐색할 수 있음

---

## 문자열 탐색 및 변환

### 개념 정리

* 문자열은 배열처럼 인덱스로 접근 가능하므로,
  특정 문자를 찾아 변환하거나 수정할 수 있음

### 예시 코드

```c
char s[] = "banana";
int i = 0;

while (s[i] != '\0') {
    if (s[i] == 'a') printf("%c", 'A');
    else printf("%c", s[i]);
    i++;
}
```

### 포인트

* 문자열은 사실상 `char` 배열이므로 직접 요소 수정 가능
* 특정 문자 조건(`if`)을 이용한 변환 로직 구현 가능

---

## 버퍼 오버플로우 (Buffer Overflow)

### 개념 정리

* 배열 크기를 초과한 문자열 입력 시 **다른 메모리를 침범**하여 예기치 못한 오류 발생
* C언어에서는 자동 방어가 없기 때문에, 개발자가 직접 크기 제한을 지켜야 함

### 예시 코드

```c
char a[5] = "hello";
char b[5];

printf("문자열 입력: ");
scanf("%s", b); // 'world' 입력 시 버퍼 초과 발생

printf("a: %s\n", a);
printf("b: %s\n", b);
```

### 포인트

* `b`에 5글자 이상 입력 시, `a` 영역을 덮어써서 프로그램이 망가짐
* 안전하게 입력받으려면 `scanf("%4s", b);` 또는 `fgets()` 사용

---

## 문자열 복사 (String Copy)

### 개념 정리

* 문자열을 복사할 때는 `=` 대입이 불가능함
* 대신 반복문을 통해 **문자 하나씩 복사**해야 함
* 마지막에 반드시 `'\0'`을 수동으로 추가해야 함

### 예시 코드

```c
char src[] = "pass";
char dest[10];
int i;

for (i = 0; src[i] != '\0'; i++) {
    dest[i] = src[i];
}
dest[i] = '\0'; // 문자열 종료
printf("%s", dest);
```

### 포인트

* `strcpy(dest, src);`와 동일한 동작
* 널 문자를 잊으면 **쓰레기 값(garbage)** 이 함께 출력됨

---

## 🎯 최종 정리

* 문자열은 **char 배열에 저장되며, 널 문자(`'\0'`)** 로 끝남
* 문자열 입력 시 `scanf()`에서는 **주소 연산자(&)** 를 붙이지 않음
* `sizeof()`는 전체 크기(널 포함), `strlen()`은 실제 문자 개수만 계산
* 문자열 복사 시에는 반복문 또는 `strcpy()`를 이용하고,
  항상 `'\0'` 추가를 잊지 말아야 함
* 버퍼 크기를 초과한 입력은 **버퍼 오버플로우**로 이어질 수 있으므로 주의 필요
